{"version":3,"file":"vue-sidebar-kit.js","sources":["../src/components/SidebarMenuLink.vue","../src/components/SidebarMenuIcon.vue","../src/components/SidebarMenuBadge.vue","../src/components/SidebarTooltip.vue","../src/composables/useSidebar.js","../src/composables/useActiveState.js","../src/styles/classes.js","../src/composables/useMenuItem.js","../src/components/SidebarMenuItem.vue","../src/components/SidebarMobileDrawer.vue","../src/components/SidebarMenu.vue","../src/components/SidebarProvider.vue","../src/components/SidebarTrigger.vue","../src/composables/useNavigation.js","../src/index.js"],"sourcesContent":["<template>\n  <component\n    :is=\"linkComponent\"\n    v-bind=\"linkProps\"\n    :class=\"linkClasses\"\n    @click=\"handleClick\"\n  >\n    <slot />\n  </component>\n</template>\n\n<script>\nimport { defineComponent, computed, inject } from 'vue'\n\nexport default defineComponent({\n  name: 'SidebarMenuLink',\n\n  props: {\n    /**\n     * Menu item data\n     */\n    item: {\n      type: Object,\n      required: true\n    },\n\n    /**\n     * Navigation mode override\n     */\n    mode: {\n      type: String,\n      default: null\n    },\n\n    /**\n     * Additional classes\n     */\n    linkClass: {\n      type: String,\n      default: ''\n    },\n\n    /**\n     * Whether link is disabled\n     */\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Prevent default navigation\n     */\n    preventDefault: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['click'],\n\n  setup(props, { emit }) {\n    // Try to get sidebar context (may not exist if used standalone)\n    const sidebarMode = inject('vsm-mode', () => 'a')\n    const customLinkComponent = inject('vsm-link-component', () => null)\n\n    // Resolve RouterLink and InertiaLink lazily\n    let RouterLink = null\n    let InertiaLink = null\n\n    try {\n      const vueRouter = require('vue-router')\n      RouterLink = vueRouter.RouterLink\n    } catch (e) {\n      RouterLink = null\n    }\n\n    try {\n      const inertiaVue = require('@inertiajs/vue3')\n      InertiaLink = inertiaVue.Link\n    } catch (e) {\n      InertiaLink = null\n    }\n\n    const effectiveMode = computed(() => {\n      // Per-item override takes priority\n      if (props.item.linkMode) return props.item.linkMode\n      // Prop override\n      if (props.mode) return props.mode\n      // From sidebar context\n      return typeof sidebarMode === 'function' ? sidebarMode() : sidebarMode\n    })\n\n    const linkComponent = computed(() => {\n      // Custom link component from context\n      const custom = typeof customLinkComponent === 'function'\n        ? customLinkComponent()\n        : customLinkComponent\n\n      if (custom) return custom\n\n      // Disabled or external links use native anchor\n      if (props.disabled) return 'a'\n\n      switch (effectiveMode.value) {\n        case 'router':\n          if (!RouterLink) {\n            console.error(\n              '[vue-sidebar-menu-advanced] mode=\"router\" requires vue-router. ' +\n              'Falling back to <a>.'\n            )\n            return 'a'\n          }\n          return RouterLink\n\n        case 'inertia':\n          if (!InertiaLink) {\n            console.error(\n              '[vue-sidebar-menu-advanced] mode=\"inertia\" requires @inertiajs/vue3. ' +\n              'Falling back to <a>.'\n            )\n            return 'a'\n          }\n          return InertiaLink\n\n        case 'a':\n        default:\n          return 'a'\n      }\n    })\n\n    const linkProps = computed(() => {\n      const item = props.item\n      const mode = effectiveMode.value\n      const result = {}\n\n      // External link handling\n      if (item.external) {\n        result.href = item.href || '#'\n        result.target = '_blank'\n        result.rel = 'noopener noreferrer'\n        return { ...result, ...(item.linkAttrs || {}) }\n      }\n\n      // Mode-specific props\n      switch (mode) {\n        case 'router':\n          result.to = item.to || item.href || '#'\n          break\n\n        case 'inertia':\n          result.href = item.href || '#'\n          break\n\n        case 'a':\n        default:\n          result.href = item.href || '#'\n          break\n      }\n\n      // Disabled state\n      if (props.disabled) {\n        result.tabindex = '-1'\n        result['aria-disabled'] = 'true'\n      }\n\n      // Merge additional link attributes\n      return { ...result, ...(item.linkAttrs || {}) }\n    })\n\n    const linkClasses = computed(() => {\n      return [\n        'vsm-link',\n        props.linkClass,\n        {\n          'vsm-link--disabled': props.disabled\n        }\n      ].filter(Boolean)\n    })\n\n    function handleClick(event) {\n      if (props.disabled) {\n        event.preventDefault()\n        event.stopPropagation()\n        return\n      }\n\n      if (props.preventDefault) {\n        event.preventDefault()\n      }\n\n      emit('click', event)\n    }\n\n    return {\n      linkComponent,\n      linkProps,\n      linkClasses,\n      handleClick\n    }\n  }\n})\n</script>\n","<template>\n  <span :class=\"iconClasses\" v-bind=\"iconAttrs\">\n    <!-- String icon (class-based) -->\n    <i v-if=\"isStringIcon\" :class=\"icon\" aria-hidden=\"true\" />\n\n    <!-- Vue component icon -->\n    <component\n      v-else-if=\"isComponentIcon\"\n      :is=\"iconComponent\"\n      v-bind=\"iconComponentProps\"\n      aria-hidden=\"true\"\n    />\n\n    <!-- Inline SVG string -->\n    <span\n      v-else-if=\"isSvgString\"\n      v-html=\"sanitizedSvg\"\n      aria-hidden=\"true\"\n    />\n\n    <!-- SVG path data -->\n    <svg\n      v-else-if=\"isSvgPath\"\n      :class=\"svgClasses\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n      aria-hidden=\"true\"\n    >\n      <path :d=\"svgPath\" />\n    </svg>\n\n    <!-- Render function (use h()) -->\n    <component\n      v-else-if=\"isRenderFunction\"\n      :is=\"renderComponent\"\n      aria-hidden=\"true\"\n    />\n\n    <!-- Fallback slot -->\n    <slot v-else />\n  </span>\n</template>\n\n<script>\nimport { defineComponent, computed, h, markRaw } from 'vue'\n\nexport default defineComponent({\n  name: 'SidebarMenuIcon',\n\n  props: {\n    /**\n     * Icon value - can be:\n     * - String: icon class name (e.g., 'mdi-home', 'fa fa-home')\n     * - Component: Vue component\n     * - Object with `svg`: inline SVG string\n     * - Object with `path`: SVG path data\n     * - Object with `render`: render function\n     * - Object with `component`: Vue component + props\n     */\n    icon: {\n      type: [String, Object, Function],\n      default: null\n    },\n\n    /**\n     * Additional classes for the icon wrapper\n     */\n    iconClass: {\n      type: String,\n      default: ''\n    },\n\n    /**\n     * Size class (applied to wrapper)\n     */\n    size: {\n      type: String,\n      default: 'w-5 h-5'\n    }\n  },\n\n  setup(props) {\n    // =========================================================================\n    // ICON TYPE DETECTION\n    // =========================================================================\n\n    const isStringIcon = computed(() => {\n      return typeof props.icon === 'string'\n    })\n\n    const isComponentIcon = computed(() => {\n      if (!props.icon) return false\n\n      // Direct component reference\n      if (typeof props.icon === 'function') return true\n      if (props.icon?.__name || props.icon?.render || props.icon?.setup) return true\n\n      // Object with component property\n      if (props.icon?.component) return true\n\n      return false\n    })\n\n    const isSvgString = computed(() => {\n      return props.icon?.svg && typeof props.icon.svg === 'string'\n    })\n\n    const isSvgPath = computed(() => {\n      return props.icon?.path && typeof props.icon.path === 'string'\n    })\n\n    const isRenderFunction = computed(() => {\n      return props.icon?.render && typeof props.icon.render === 'function'\n    })\n\n    // =========================================================================\n    // RESOLVED VALUES\n    // =========================================================================\n\n    const iconComponent = computed(() => {\n      if (typeof props.icon === 'function') return markRaw(props.icon)\n      if (props.icon?.__name || props.icon?.render || props.icon?.setup) {\n        return markRaw(props.icon)\n      }\n      if (props.icon?.component) return markRaw(props.icon.component)\n      return null\n    })\n\n    const iconComponentProps = computed(() => {\n      if (props.icon?.props) return props.icon.props\n      if (props.icon?.attrs) return props.icon.attrs\n      return {}\n    })\n\n    const sanitizedSvg = computed(() => {\n      if (!props.icon?.svg) return ''\n      // Basic sanitization - in production you might want a proper sanitizer\n      return props.icon.svg\n    })\n\n    const svgPath = computed(() => {\n      return props.icon?.path || ''\n    })\n\n    const renderComponent = computed(() => {\n      if (!props.icon?.render) return null\n      // Wrap render function in a component\n      return {\n        render: () => props.icon.render(h)\n      }\n    })\n\n    // =========================================================================\n    // CLASSES\n    // =========================================================================\n\n    const iconClasses = computed(() => {\n      return [\n        'vsm-icon-wrapper',\n        'inline-flex items-center justify-center flex-shrink-0',\n        props.size,\n        props.iconClass,\n        props.icon?.class\n      ].filter(Boolean)\n    })\n\n    const iconAttrs = computed(() => {\n      return props.icon?.attrs || {}\n    })\n\n    const svgClasses = computed(() => {\n      return ['w-full h-full']\n    })\n\n    return {\n      isStringIcon,\n      isComponentIcon,\n      isSvgString,\n      isSvgPath,\n      isRenderFunction,\n      iconComponent,\n      iconComponentProps,\n      sanitizedSvg,\n      svgPath,\n      renderComponent,\n      iconClasses,\n      iconAttrs,\n      svgClasses\n    }\n  }\n})\n</script>\n","<template>\n  <span :class=\"badgeClasses\" v-bind=\"badgeAttrs\">\n    {{ badgeText }}\n    <slot />\n  </span>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue'\n\nexport default defineComponent({\n  name: 'SidebarMenuBadge',\n\n  props: {\n    /**\n     * Badge value - can be:\n     * - String: direct text\n     * - Number: will be converted to string\n     * - Object: { text, class, attrs }\n     */\n    badge: {\n      type: [String, Number, Object],\n      default: null\n    },\n\n    /**\n     * Additional classes\n     */\n    badgeClass: {\n      type: String,\n      default: ''\n    }\n  },\n\n  setup(props) {\n    const badgeText = computed(() => {\n      if (props.badge === null || props.badge === undefined) return ''\n\n      if (typeof props.badge === 'object') {\n        return props.badge.text ?? ''\n      }\n\n      return String(props.badge)\n    })\n\n    const badgeClasses = computed(() => {\n      const base = [\n        'vsm-badge',\n        'inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium',\n        props.badgeClass\n      ]\n\n      if (typeof props.badge === 'object' && props.badge.class) {\n        base.push(props.badge.class)\n      }\n\n      return base.filter(Boolean)\n    })\n\n    const badgeAttrs = computed(() => {\n      if (typeof props.badge === 'object' && props.badge.attrs) {\n        return props.badge.attrs\n      }\n      return {}\n    })\n\n    return {\n      badgeText,\n      badgeClasses,\n      badgeAttrs\n    }\n  }\n})\n</script>\n","<template>\n  <Transition name=\"vsm-tooltip\">\n    <div\n      v-if=\"show\"\n      :class=\"tooltipClasses\"\n      role=\"tooltip\"\n      :id=\"tooltipId\"\n    >\n      <slot>{{ text }}</slot>\n    </div>\n  </Transition>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue'\n\nlet tooltipCounter = 0\n\nexport default defineComponent({\n  name: 'SidebarTooltip',\n\n  props: {\n    /**\n     * Whether to show the tooltip\n     */\n    show: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Tooltip text content\n     */\n    text: {\n      type: String,\n      default: ''\n    },\n\n    /**\n     * Additional classes\n     */\n    tooltipClass: {\n      type: String,\n      default: ''\n    }\n  },\n\n  setup(props) {\n    const tooltipId = `vsm-tooltip-${++tooltipCounter}`\n\n    const tooltipClasses = computed(() => {\n      return [\n        'vsm-tooltip',\n        'absolute left-full ml-2 px-2 py-1 text-sm rounded shadow-lg whitespace-nowrap z-50',\n        'bg-gray-800 text-white',\n        'pointer-events-none',\n        props.tooltipClass\n      ].filter(Boolean)\n    })\n\n    return {\n      tooltipId,\n      tooltipClasses\n    }\n  }\n})\n</script>\n","/**\n * @fileoverview Main Sidebar State Management Composable\n * \n * This module provides the core state management for the Vue Sidebar Kit.\n * It implements the Provider Pattern, allowing sidebar state to be shared\n * across deeply nested components without prop drilling.\n * \n * @module composables/useSidebar\n * @author Hassan Ali\n * @license MIT\n * \n * @example\n * // In a parent component (typically your layout)\n * import { createSidebarContext, provideSidebar } from 'vue-sidebar-kit'\n * \n * const context = createSidebarContext(props, emit)\n * provideSidebar(context)\n * \n * @example\n * // In any child component\n * import { useSidebar } from 'vue-sidebar-kit'\n * \n * const { collapsed, toggle, mobileOpen, closeMobile } = useSidebar()\n */\n\nimport { ref, computed, provide, inject, reactive, watch, onMounted, onUnmounted } from 'vue'\n\n/**\n * Symbol key used for Vue's provide/inject mechanism.\n * Using a Symbol ensures uniqueness and prevents naming collisions.\n * \n * @constant {Symbol}\n * @private\n */\nconst SIDEBAR_INJECTION_KEY = Symbol('vsm-sidebar')\n\n/**\n * Checks if the code is running in a browser environment.\n * This is essential for SSR (Server-Side Rendering) safety.\n * \n * @function isBrowser\n * @returns {boolean} True if running in browser, false if in Node.js/SSR\n * \n * @example\n * if (isBrowser()) {\n *   // Safe to access window, document, localStorage\n *   localStorage.setItem('key', 'value')\n * }\n */\nfunction isBrowser() {\n  return typeof window !== 'undefined'\n}\n\n/**\n * Gets the current URL path in an SSR-safe manner.\n * Returns the full path including pathname, search params, and hash.\n * \n * @function getCurrentPath\n * @returns {string} The current path (e.g., '/users?page=1#section')\n * \n * @example\n * const path = getCurrentPath()\n * // Returns: '/dashboard' or '/' if on server\n */\nfunction getCurrentPath() {\n  if (!isBrowser()) return '/'\n  return window.location.pathname + window.location.search + window.location.hash\n}\n\n/**\n * Creates the main sidebar context object.\n * This is the factory function that initializes all sidebar state and methods.\n * \n * The context object is reactive and can be used with Vue's reactivity system.\n * It handles:\n * - Collapsed/expanded state\n * - Mobile drawer open/close\n * - Group expansion tracking\n * - State persistence to localStorage\n * - Route change detection\n * - Keyboard event handling\n * \n * @function createSidebarContext\n * @param {Object} props - Component props passed from SidebarMenu or SidebarProvider\n * @param {boolean} [props.collapsed=false] - Initial collapsed state\n * @param {boolean} [props.mobileOpen=false] - Initial mobile drawer state\n * @param {string} [props.storageKey] - localStorage key for persistence (optional)\n * @param {string} [props.width='256px'] - Expanded sidebar width\n * @param {string} [props.collapsedWidth='64px'] - Collapsed sidebar width\n * @param {boolean} [props.expandOnHover=false] - Expand on mouse hover when collapsed\n * @param {boolean|'deep'} [props.showOneChild=false] - Accordion behavior for groups\n * @param {string[]} [props.defaultExpandedGroups=[]] - Initially expanded group IDs\n * @param {string} [props.mode='a'] - Navigation mode ('a', 'router', 'inertia')\n * @param {Object} [props.classes={}] - Class override object\n * @param {boolean} [props.rtl=false] - Right-to-left layout\n * @param {boolean} [props.disableHover=false] - Disable hover effects\n * @param {string} [props.linkComponentName] - Custom link component name\n * \n * @param {Function} emit - Vue emit function for v-model updates\n * \n * @returns {Object} Reactive sidebar context object\n * @returns {import('vue').Ref<boolean>} returns.collapsed - Collapsed state ref\n * @returns {import('vue').Ref<boolean>} returns.mobileOpen - Mobile open state ref\n * @returns {import('vue').Ref<Set<string>>} returns.expandedGroups - Expanded group IDs\n * @returns {import('vue').Ref<string>} returns.currentPath - Current URL path\n * @returns {import('vue').ComputedRef<boolean>} returns.isCollapsed - Effective collapsed state\n * @returns {import('vue').Ref<boolean>} returns.hoverExpanded - Hover expansion state\n * @returns {import('vue').ComputedRef<string>} returns.effectiveWidth - Current width\n * @returns {Function} returns.toggle - Toggle collapsed state\n * @returns {Function} returns.collapse - Force collapse\n * @returns {Function} returns.expand - Force expand\n * @returns {Function} returns.toggleMobile - Toggle mobile drawer\n * @returns {Function} returns.openMobile - Open mobile drawer\n * @returns {Function} returns.closeMobile - Close mobile drawer\n * @returns {Function} returns.toggleGroup - Toggle a group's expanded state\n * @returns {Function} returns.isGroupExpanded - Check if group is expanded\n * @returns {Function} returns.setHoverExpanded - Set hover expansion state\n * @returns {Function} returns.updateCurrentPath - Force path update\n * \n * @example\n * // Basic usage in a component setup\n * const context = createSidebarContext(\n *   { collapsed: false, storageKey: 'my-app-sidebar' },\n *   (event, value) => emit(event, value)\n * )\n * \n * // Use context methods\n * context.toggle()  // Toggle collapsed state\n * context.toggleGroup('users')  // Toggle a specific group\n */\nexport function createSidebarContext(props, emit) {\n  // =========================================================================\n  // STATE INITIALIZATION\n  // =========================================================================\n\n  /**\n   * Whether the sidebar is in collapsed (rail) mode.\n   * When collapsed, only icons are visible and labels are hidden.\n   * @type {import('vue').Ref<boolean>}\n   */\n  const collapsed = ref(props.collapsed ?? false)\n\n  /**\n   * Whether the mobile drawer is open.\n   * Only relevant on mobile viewports (below mobileBreakpoint).\n   * @type {import('vue').Ref<boolean>}\n   */\n  const mobileOpen = ref(props.mobileOpen ?? false)\n\n  /**\n   * Set of currently expanded group IDs.\n   * Groups are menu items with children that can be expanded/collapsed.\n   * @type {import('vue').Ref<Set<string>>}\n   */\n  const expandedGroups = ref(new Set(props.defaultExpandedGroups || []))\n\n  /**\n   * Current URL path for active state detection.\n   * Updated on navigation events and can be manually refreshed.\n   * @type {import('vue').Ref<string>}\n   */\n  const currentPath = ref(getCurrentPath())\n\n  /**\n   * Whether the sidebar is temporarily expanded due to hover.\n   * Only active when expandOnHover prop is true and sidebar is collapsed.\n   * @type {import('vue').Ref<boolean>}\n   */\n  const hoverExpanded = ref(false)\n\n  // =========================================================================\n  // COMPUTED PROPERTIES\n  // =========================================================================\n\n  /**\n   * Effective collapsed state accounting for hover expansion.\n   * If hover-expanded, returns false even if technically collapsed.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const isCollapsed = computed(() => {\n    if (hoverExpanded.value) return false\n    return collapsed.value\n  })\n\n  /**\n   * Current effective width of the sidebar.\n   * Returns collapsed width or full width based on state.\n   * @type {import('vue').ComputedRef<string>}\n   */\n  const effectiveWidth = computed(() => {\n    return isCollapsed.value ? props.collapsedWidth : props.width\n  })\n\n  // =========================================================================\n  // PERSISTENCE FUNCTIONS\n  // =========================================================================\n\n  /**\n   * Loads persisted state from localStorage.\n   * Called on component mount if storageKey is provided.\n   * Handles:\n   * - Collapsed state restoration\n   * - Expanded groups restoration\n   * \n   * @function loadPersistedState\n   * @private\n   * @returns {void}\n   */\n  function loadPersistedState() {\n    if (!isBrowser() || !props.storageKey) return\n\n    try {\n      const saved = localStorage.getItem(props.storageKey)\n      if (saved) {\n        const data = JSON.parse(saved)\n        if (typeof data.collapsed === 'boolean') {\n          collapsed.value = data.collapsed\n        }\n        if (Array.isArray(data.expandedGroups)) {\n          expandedGroups.value = new Set(data.expandedGroups)\n        }\n      }\n    } catch (e) {\n      console.warn('[vue-sidebar-kit] Failed to load persisted state:', e)\n    }\n  }\n\n  /**\n   * Saves current state to localStorage.\n   * Called automatically when collapsed state or expanded groups change.\n   * \n   * @function savePersistedState\n   * @private\n   * @returns {void}\n   */\n  function savePersistedState() {\n    if (!isBrowser() || !props.storageKey) return\n\n    try {\n      localStorage.setItem(props.storageKey, JSON.stringify({\n        collapsed: collapsed.value,\n        expandedGroups: Array.from(expandedGroups.value)\n      }))\n    } catch (e) {\n      console.warn('[vue-sidebar-kit] Failed to save state:', e)\n    }\n  }\n\n  // =========================================================================\n  // PUBLIC METHODS\n  // =========================================================================\n\n  /**\n   * Toggles the sidebar between collapsed and expanded states.\n   * Emits 'update:collapsed' event for v-model binding.\n   * Persists state if storageKey is configured.\n   * \n   * @function toggle\n   * @fires update:collapsed\n   * @returns {void}\n   * \n   * @example\n   * const { toggle } = useSidebar()\n   * toggle() // Toggles between collapsed/expanded\n   */\n  function toggle() {\n    collapsed.value = !collapsed.value\n    emit('update:collapsed', collapsed.value)\n    savePersistedState()\n  }\n\n  /**\n   * Forces the sidebar into collapsed (rail) state.\n   * Useful for responsive layouts or programmatic control.\n   * \n   * @function collapse\n   * @fires update:collapsed\n   * @returns {void}\n   * \n   * @example\n   * // Collapse sidebar on mobile\n   * if (window.innerWidth < 768) {\n   *   sidebar.collapse()\n   * }\n   */\n  function collapse() {\n    collapsed.value = true\n    emit('update:collapsed', true)\n    savePersistedState()\n  }\n\n  /**\n   * Forces the sidebar into expanded state.\n   * Shows full labels and expands to full width.\n   * \n   * @function expand\n   * @fires update:collapsed\n   * @returns {void}\n   */\n  function expand() {\n    collapsed.value = false\n    emit('update:collapsed', false)\n    savePersistedState()\n  }\n\n  /**\n   * Toggles the mobile drawer between open and closed.\n   * Only affects mobile view. Also manages body scroll lock.\n   * \n   * @function toggleMobile\n   * @fires update:mobileOpen\n   * @returns {void}\n   */\n  function toggleMobile() {\n    mobileOpen.value = !mobileOpen.value\n    emit('update:mobileOpen', mobileOpen.value)\n    updateBodyScroll()\n  }\n\n  /**\n   * Opens the mobile drawer.\n   * Applies body scroll lock to prevent background scrolling.\n   * \n   * @function openMobile\n   * @fires update:mobileOpen\n   * @returns {void}\n   */\n  function openMobile() {\n    mobileOpen.value = true\n    emit('update:mobileOpen', true)\n    updateBodyScroll()\n  }\n\n  /**\n   * Closes the mobile drawer.\n   * Removes body scroll lock.\n   * \n   * @function closeMobile\n   * @fires update:mobileOpen\n   * @returns {void}\n   */\n  function closeMobile() {\n    mobileOpen.value = false\n    emit('update:mobileOpen', false)\n    updateBodyScroll()\n  }\n\n  /**\n   * Toggles a group's expanded state.\n   * Groups are menu items with children that can be collapsed.\n   * \n   * If showOneChild is enabled, only one group at the same level\n   * will remain expanded (accordion behavior).\n   * \n   * @function toggleGroup\n   * @param {string} id - The unique identifier of the group to toggle\n   * @returns {void}\n   * \n   * @example\n   * // Toggle the 'users' group\n   * sidebar.toggleGroup('users')\n   */\n  function toggleGroup(id) {\n    if (expandedGroups.value.has(id)) {\n      expandedGroups.value.delete(id)\n    } else {\n      // If showOneChild, close others at same level\n      if (props.showOneChild === true) {\n        // For now, just add - proper sibling detection would need tree context\n      }\n      expandedGroups.value.add(id)\n    }\n    // Trigger reactivity by creating new Set\n    expandedGroups.value = new Set(expandedGroups.value)\n    savePersistedState()\n  }\n\n  /**\n   * Checks if a specific group is currently expanded.\n   * \n   * @function isGroupExpanded\n   * @param {string} id - The group identifier to check\n   * @returns {boolean} True if the group is expanded\n   * \n   * @example\n   * if (sidebar.isGroupExpanded('settings')) {\n   *   console.log('Settings menu is open')\n   * }\n   */\n  function isGroupExpanded(id) {\n    return expandedGroups.value.has(id)\n  }\n\n  /**\n   * Sets the hover expansion state.\n   * Used internally when mouse enters/leaves the collapsed sidebar.\n   * \n   * @function setHoverExpanded\n   * @param {boolean} value - Whether to expand on hover\n   * @returns {void}\n   */\n  function setHoverExpanded(value) {\n    if (props.expandOnHover && collapsed.value) {\n      hoverExpanded.value = value\n    }\n  }\n\n  // =========================================================================\n  // BODY SCROLL LOCK\n  // =========================================================================\n\n  /**\n   * Updates body scroll lock based on mobile drawer state.\n   * Adds/removes 'vsm-no-scroll' class to prevent background scrolling.\n   * \n   * @function updateBodyScroll\n   * @private\n   * @returns {void}\n   */\n  function updateBodyScroll() {\n    if (!isBrowser()) return\n\n    if (mobileOpen.value) {\n      document.body.classList.add('vsm-no-scroll')\n    } else {\n      document.body.classList.remove('vsm-no-scroll')\n    }\n  }\n\n  // =========================================================================\n  // ROUTE CHANGE DETECTION\n  // =========================================================================\n\n  /**\n   * Updates the current path from window.location.\n   * Call this after programmatic navigation to refresh active states.\n   * \n   * @function updateCurrentPath\n   * @returns {void}\n   * \n   * @example\n   * // After Inertia navigation\n   * router.on('navigate', () => {\n   *   sidebar.updateCurrentPath()\n   * })\n   */\n  function updateCurrentPath() {\n    currentPath.value = getCurrentPath()\n  }\n\n  /**\n   * Handler for browser popstate events (back/forward navigation).\n   * \n   * @function handlePopState\n   * @private\n   * @returns {void}\n   */\n  function handlePopState() {\n    updateCurrentPath()\n  }\n\n  // =========================================================================\n  // KEYBOARD HANDLING\n  // =========================================================================\n\n  /**\n   * Global keyboard event handler.\n   * Handles Escape key to close mobile drawer.\n   * \n   * @function handleKeydown\n   * @private\n   * @param {KeyboardEvent} event - The keyboard event\n   * @returns {void}\n   */\n  function handleKeydown(event) {\n    if (event.key === 'Escape' && mobileOpen.value) {\n      closeMobile()\n    }\n  }\n\n  // =========================================================================\n  // LIFECYCLE\n  // =========================================================================\n\n  onMounted(() => {\n    loadPersistedState()\n    updateCurrentPath()\n\n    if (isBrowser()) {\n      window.addEventListener('popstate', handlePopState)\n      window.addEventListener('hashchange', updateCurrentPath)\n      document.addEventListener('keydown', handleKeydown)\n    }\n  })\n\n  onUnmounted(() => {\n    if (isBrowser()) {\n      window.removeEventListener('popstate', handlePopState)\n      window.removeEventListener('hashchange', updateCurrentPath)\n      document.removeEventListener('keydown', handleKeydown)\n      document.body.classList.remove('vsm-no-scroll')\n    }\n  })\n\n  // Watch for prop changes (external v-model updates)\n  watch(() => props.collapsed, (val) => {\n    if (val !== collapsed.value) {\n      collapsed.value = val\n    }\n  })\n\n  watch(() => props.mobileOpen, (val) => {\n    if (val !== mobileOpen.value) {\n      mobileOpen.value = val\n      updateBodyScroll()\n    }\n  })\n\n  // =========================================================================\n  // CONTEXT OBJECT\n  // =========================================================================\n\n  /**\n   * The reactive context object containing all state and methods.\n   * This object is provided to child components and returned from useSidebar().\n   */\n  const context = reactive({\n    // State (refs)\n    collapsed,\n    mobileOpen,\n    expandedGroups,\n    currentPath,\n    isCollapsed,\n    hoverExpanded,\n    effectiveWidth,\n\n    // Props passthrough (as computed for reactivity)\n    mode: computed(() => props.mode || 'a'),\n    classes: computed(() => props.classes || {}),\n    width: computed(() => props.width || '256px'),\n    collapsedWidth: computed(() => props.collapsedWidth || '64px'),\n    rtl: computed(() => props.rtl || false),\n    disableHover: computed(() => props.disableHover || false),\n    showOneChild: computed(() => props.showOneChild || false),\n    expandOnHover: computed(() => props.expandOnHover || false),\n    linkComponentName: computed(() => props.linkComponentName),\n\n    // Methods\n    toggle,\n    collapse,\n    expand,\n    toggleMobile,\n    openMobile,\n    closeMobile,\n    toggleGroup,\n    isGroupExpanded,\n    setHoverExpanded,\n    updateCurrentPath\n  })\n\n  return context\n}\n\n/**\n * Provides the sidebar context to all descendant components.\n * Call this in the setup of SidebarMenu or SidebarProvider.\n * \n * @function provideSidebar\n * @param {Object} context - The context object from createSidebarContext\n * @returns {void}\n * \n * @example\n * // In SidebarMenu.vue setup\n * const context = createSidebarContext(props, emit)\n * provideSidebar(context)\n */\nexport function provideSidebar(context) {\n  provide(SIDEBAR_INJECTION_KEY, context)\n}\n\n/**\n * Injects and returns the sidebar context in child components.\n * Must be called inside a component that is a descendant of\n * SidebarMenu or SidebarProvider.\n * \n * @function useSidebar\n * @throws {Error} If called outside of a sidebar context\n * @returns {Object} The sidebar context object with all state and methods\n * \n * @example\n * // In any child component\n * import { useSidebar } from 'vue-sidebar-kit'\n * \n * const sidebar = useSidebar()\n * \n * // Access state\n * console.log(sidebar.collapsed.value)\n * \n * // Call methods\n * sidebar.toggle()\n * sidebar.toggleGroup('settings')\n * \n * // Use in template\n * // <button @click=\"sidebar.toggle()\">Toggle</button>\n */\nexport function useSidebar() {\n  const context = inject(SIDEBAR_INJECTION_KEY)\n  if (!context) {\n    throw new Error(\n      '[vue-sidebar-kit] useSidebar() must be used inside a <SidebarMenu> or <SidebarProvider>. ' +\n      'Make sure your component is wrapped in one of these components.'\n    )\n  }\n  return context\n}\n\n/**\n * Checks if a sidebar context exists without throwing an error.\n * Useful for optional sidebar integration in shared components.\n * \n * @function hasSidebarContext\n * @returns {boolean} True if sidebar context is available\n * \n * @example\n * // In a shared component that may or may not be in a sidebar\n * if (hasSidebarContext()) {\n *   const sidebar = useSidebar()\n *   // Use sidebar features\n * }\n */\nexport function hasSidebarContext() {\n  return inject(SIDEBAR_INJECTION_KEY, null) !== null\n}\n","/**\n * @fileoverview Active State Detection Composable\n * \n * This module provides sophisticated active state detection for menu items.\n * It supports multiple matching strategies to determine if a menu item\n * corresponds to the current route/URL.\n * \n * The module is designed to work with all three navigation modes:\n * - Plain anchors (using window.location)\n * - Vue Router (using currentRoute)\n * - Inertia.js (using page.url)\n * \n * @module composables/useActiveState\n * @author Hassan Ali\n * @license MIT\n * \n * @example\n * // Basic usage\n * import { isItemActive } from 'vue-sidebar-kit'\n * \n * const active = isItemActive(menuItem, '/current/path')\n * \n * @example\n * // With Vue Router\n * import { useActiveState } from 'vue-sidebar-kit'\n * import { useRouter } from 'vue-router'\n * \n * const router = useRouter()\n * const { isActive, isParentActive } = useActiveState()\n */\n\n/**\n * @typedef {Object} ActiveMatchContext\n * @property {MenuItem} item - The menu item being checked\n * @property {string} currentPath - Current URL path (e.g., '/users/123')\n * @property {Object} [currentRoute] - Vue Router route object (if available)\n * @property {string} [pageUrl] - Inertia page URL (if available)\n * @property {boolean} [isExact] - Whether this is an exact match check\n */\n\n/**\n * @typedef {'exact'|'startsWith'|{pattern: string}|Function} ActiveMatchStrategy\n * \n * Strategies for determining if a menu item is active:\n * \n * - `'exact'`: Path must match exactly (default for items without children)\n * - `'startsWith'`: Current path starts with item's href (default for parent items)\n * - `{ pattern: string }`: A regex pattern to match against the path\n * - `Function`: Custom function receiving context, returns boolean\n */\n\n/**\n * Normalizes a path by removing trailing slashes for consistent comparison.\n * Also handles edge cases like root path '/' and query strings.\n * \n * @function normalizePath\n * @param {string} path - The path to normalize\n * @returns {string} Normalized path without trailing slash (except for root)\n * \n * @example\n * normalizePath('/users/')    // Returns: '/users'\n * normalizePath('/users')     // Returns: '/users'\n * normalizePath('/')          // Returns: '/'\n * normalizePath('')           // Returns: '/'\n * normalizePath('/a/b/c/')    // Returns: '/a/b/c'\n */\nfunction normalizePath(path) {\n  if (!path) return '/'\n  // Remove trailing slash unless it's the root path\n  if (path !== '/' && path.endsWith('/')) {\n    return path.slice(0, -1)\n  }\n  return path\n}\n\n/**\n * Extracts the path portion from a URL or route object.\n * Handles various input formats:\n * - String paths: '/users/123'\n * - Full URLs: 'https://example.com/users/123'\n * - Route objects: { name: 'users', params: {} }\n * \n * @function getItemPath\n * @param {MenuItem} item - The menu item to extract path from\n * @returns {string|null} The extracted path, or null if not determinable\n * \n * @example\n * getItemPath({ href: '/users' })           // Returns: '/users'\n * getItemPath({ to: '/users' })             // Returns: '/users'\n * getItemPath({ to: { path: '/users' } })   // Returns: '/users'\n * getItemPath({ href: 'https://x.com/a' })  // Returns: '/a'\n */\nfunction getItemPath(item) {\n  // Try href first (used by anchor and Inertia modes)\n  if (item.href) {\n    // Handle external URLs\n    if (item.href.startsWith('http://') || item.href.startsWith('https://')) {\n      try {\n        return new URL(item.href).pathname\n      } catch {\n        return null\n      }\n    }\n    return item.href\n  }\n\n  // Try 'to' prop (used by Vue Router mode)\n  if (item.to) {\n    if (typeof item.to === 'string') {\n      return item.to\n    }\n    // Route object: { path: '/x' } or { name: 'route-name' }\n    if (item.to.path) {\n      return item.to.path\n    }\n    // Named routes can't be resolved without router instance\n    // Return null and let the caller handle it\n    return null\n  }\n\n  return null\n}\n\n/**\n * Determines if a menu item is currently active based on the matching strategy.\n * \n * This is the core function for active state detection. It supports multiple\n * strategies and handles edge cases like disabled items, external links, and\n * items without navigation targets.\n * \n * Algorithm:\n * 1. Return false for disabled or external items\n * 2. Return false if item has no navigable path\n * 3. Apply the matching strategy (exact, startsWith, pattern, or custom)\n * 4. Default to 'startsWith' for parents, 'exact' for leaf items\n * \n * @function isItemActive\n * @param {MenuItem} item - The menu item to check\n * @param {string} currentPath - The current URL path\n * @param {Object} [options={}] - Additional options\n * @param {Object} [options.currentRoute] - Vue Router route object\n * @param {string} [options.pageUrl] - Inertia page URL\n * @returns {boolean} True if the item is considered active\n * \n * @example\n * // Exact match (default for leaf items)\n * const item = { id: 'users', href: '/users', activeMatch: 'exact' }\n * isItemActive(item, '/users')      // true\n * isItemActive(item, '/users/123')  // false\n * \n * @example\n * // StartsWith match (default for parent items)\n * const item = { id: 'users', href: '/users', activeMatch: 'startsWith' }\n * isItemActive(item, '/users')      // true\n * isItemActive(item, '/users/123')  // true\n * isItemActive(item, '/settings')   // false\n * \n * @example\n * // Pattern match (regex)\n * const item = { \n *   id: 'user-detail', \n *   href: '/users/1',\n *   activeMatch: { pattern: '^/users/\\\\d+$' }\n * }\n * isItemActive(item, '/users/123')    // true\n * isItemActive(item, '/users')        // false\n * isItemActive(item, '/users/abc')    // false\n * \n * @example\n * // Custom function\n * const item = {\n *   id: 'special',\n *   href: '/dashboard',\n *   activeMatch: (ctx) => ctx.currentPath.includes('dashboard')\n * }\n * isItemActive(item, '/admin/dashboard')  // true\n */\nexport function isItemActive(item, currentPath, options = {}) {\n  // =========================================================================\n  // EARLY RETURNS\n  // =========================================================================\n\n  // Disabled items are never active\n  if (item.disabled) {\n    return false\n  }\n\n  // External links are never considered active (they navigate away)\n  if (item.external) {\n    return false\n  }\n\n  // Get the item's path\n  const itemPath = getItemPath(item)\n  if (!itemPath) {\n    return false\n  }\n\n  // Normalize paths for comparison\n  const normalizedItemPath = normalizePath(itemPath)\n  const normalizedCurrentPath = normalizePath(currentPath)\n\n  // =========================================================================\n  // STRATEGY RESOLUTION\n  // =========================================================================\n\n  /**\n   * Determine the matching strategy to use.\n   * Priority:\n   * 1. Explicitly set on item.activeMatch\n   * 2. 'startsWith' for items with children (parent items)\n   * 3. 'exact' for leaf items (no children)\n   */\n  const strategy = item.activeMatch || \n    (item.children && item.children.length > 0 ? 'startsWith' : 'exact')\n\n  // =========================================================================\n  // STRATEGY APPLICATION\n  // =========================================================================\n\n  // Custom function strategy\n  if (typeof strategy === 'function') {\n    /** @type {ActiveMatchContext} */\n    const context = {\n      item,\n      currentPath: normalizedCurrentPath,\n      currentRoute: options.currentRoute,\n      pageUrl: options.pageUrl\n    }\n    return strategy(context)\n  }\n\n  // Pattern (regex) strategy\n  if (typeof strategy === 'object' && strategy.pattern) {\n    try {\n      const regex = new RegExp(strategy.pattern)\n      return regex.test(normalizedCurrentPath)\n    } catch (e) {\n      console.warn(\n        `[vue-sidebar-kit] Invalid regex pattern \"${strategy.pattern}\" for item \"${item.id}\":`,\n        e.message\n      )\n      return false\n    }\n  }\n\n  // StartsWith strategy\n  if (strategy === 'startsWith') {\n    // Handle root path specially\n    if (normalizedItemPath === '/') {\n      return normalizedCurrentPath === '/'\n    }\n    return normalizedCurrentPath.startsWith(normalizedItemPath)\n  }\n\n  // Exact strategy (default)\n  return normalizedCurrentPath === normalizedItemPath\n}\n\n/**\n * Checks if a menu item is a parent of an active child.\n * This is used to highlight parent menu items when a nested child is active.\n * \n * The check is recursive, so grandparent items will also return true\n * if any descendant at any depth is active.\n * \n * @function isParentOfActive\n * @param {MenuItem} item - The parent item to check\n * @param {string} currentPath - The current URL path\n * @param {Object} [options={}] - Additional options passed to isItemActive\n * @returns {boolean} True if any descendant is active\n * \n * @example\n * const usersMenu = {\n *   id: 'users',\n *   href: '/users',\n *   children: [\n *     { id: 'users-list', href: '/users' },\n *     { id: 'users-create', href: '/users/create' }\n *   ]\n * }\n * \n * isParentOfActive(usersMenu, '/users/create')  // true\n * isParentOfActive(usersMenu, '/settings')      // false\n */\nexport function isParentOfActive(item, currentPath, options = {}) {\n  // No children means can't be a parent\n  if (!item.children || item.children.length === 0) {\n    return false\n  }\n\n  // Check each child recursively\n  return item.children.some(child => {\n    // Check if this child is active\n    if (isItemActive(child, currentPath, options)) {\n      return true\n    }\n    // Recursively check if any grandchild is active\n    return isParentOfActive(child, currentPath, options)\n  })\n}\n\n/**\n * Creates a reactive composable for active state detection.\n * \n * This composable integrates with the sidebar context and provides\n * reactive methods to check active states. It's designed to be used\n * within components that are descendants of SidebarMenu or SidebarProvider.\n * \n * @function useActiveState\n * @param {Object} [context] - Optional sidebar context (auto-injected if not provided)\n * @returns {Object} Active state utilities\n * @returns {Function} returns.isActive - Check if an item is active\n * @returns {Function} returns.isParentActive - Check if item is parent of active\n * @returns {import('vue').Ref<string>} returns.currentPath - The current path ref\n * \n * @example\n * // In a component's setup\n * import { useActiveState } from 'vue-sidebar-kit'\n * \n * const { isActive, isParentActive, currentPath } = useActiveState()\n * \n * // Use in template or computed\n * const menuItemActive = computed(() => isActive(props.item))\n * const isGroupActive = computed(() => isParentActive(props.item))\n */\nexport function useActiveState(context = null) {\n  // Import useSidebar here to avoid circular dependency\n  const { useSidebar } = require('./useSidebar.js')\n\n  // Get context from injection if not provided\n  const ctx = context || useSidebar()\n\n  /**\n   * Check if an item is active relative to current path.\n   * Wrapper around isItemActive that uses context's currentPath.\n   * \n   * @param {MenuItem} item - The menu item to check\n   * @returns {boolean} True if active\n   */\n  function isActive(item) {\n    return isItemActive(item, ctx.currentPath.value)\n  }\n\n  /**\n   * Check if an item is parent of an active child.\n   * Wrapper around isParentOfActive.\n   * \n   * @param {MenuItem} item - The parent item to check\n   * @returns {boolean} True if any child is active\n   */\n  function isParentActive(item) {\n    return isParentOfActive(item, ctx.currentPath.value)\n  }\n\n  return {\n    isActive,\n    isParentActive,\n    currentPath: ctx.currentPath\n  }\n}\n","/**\n * @fileoverview CSS Class Management Utilities\n * \n * This module provides the class cascade system for Vue Sidebar Kit.\n * It implements a three-tier override system:\n * \n * 1. **Default Classes**: Built-in Tailwind utility classes\n * 2. **Global Classes**: User overrides via `classes` prop on SidebarMenu\n * 3. **Item Classes**: Per-item overrides via `item.classes` object\n * \n * The cascade follows CSS specificity principles - more specific overrides\n * win. Classes at each tier can either extend or replace the previous tier.\n * \n * @module styles/classes\n * @author Hassan Ali\n * @license MIT\n * \n * @example\n * // Using the class system\n * import { resolveClass, mergeClasses, getLinkClasses } from 'vue-sidebar-kit'\n * \n * // Resolve a single class key\n * const linkClass = resolveClass('link', globalClasses, itemClasses)\n * \n * // Get all link classes based on state\n * const classes = getLinkClasses({ isActive: true, isDisabled: false })\n */\n\n// =============================================================================\n// DEFAULT CSS CLASSES\n// =============================================================================\n\n/**\n * Default CSS classes for all sidebar elements.\n * \n * These are Tailwind utility classes that provide a professional,\n * accessible, and responsive design out of the box. They can be\n * completely overridden using the global `classes` prop.\n * \n * **Design Principles:**\n * - Dark theme by default (works well with most dashboards)\n * - Smooth transitions for state changes\n * - Clear visual hierarchy\n * - Accessible color contrast\n * - Flexible spacing that works at various sizes\n * \n * @constant {Object} defaultClasses\n * @property {string} root - Main sidebar container\n * @property {string} rootExpanded - Modifier when expanded\n * @property {string} rootCollapsed - Modifier when collapsed\n * @property {string} wrapper - Inner scroll wrapper\n * @property {string} nav - Navigation landmark element\n * @property {string} menu - Unordered list element\n * @property {string} item - List item element\n * @property {string} link - Link/anchor element\n * @property {string} linkActive - Active link state\n * @property {string} linkHover - Hover state\n * @property {string} linkFocus - Focus state (keyboard navigation)\n * @property {string} linkDisabled - Disabled state\n * @property {string} linkOpen - Parent with open submenu\n * @property {string} linkGroupActive - Parent of active child\n * @property {string} icon - Icon wrapper\n * @property {string} label - Label text\n * @property {string} badge - Badge element\n * @property {string} dropdown - Dropdown arrow\n * @property {string} dropdownOpen - Dropdown arrow when open\n * @property {string} group - Collapsible group container\n * @property {string} groupContent - Group children wrapper\n * @property {string} header - Header slot container\n * @property {string} footer - Footer slot container\n * @property {string} overlay - Mobile overlay backdrop\n * @property {string} drawer - Mobile drawer panel\n * @property {string} tooltip - Collapsed mode tooltip\n * @property {string} toggle - Toggle button\n * @property {string} indent - Level-based indentation\n * \n * @example\n * // Using defaults directly\n * import { defaultClasses } from 'vue-sidebar-kit'\n * console.log(defaultClasses.link) // 'flex items-center gap-3 ...'\n * \n * @example\n * // Extending defaults\n * const customClasses = {\n *   link: defaultClasses.link + ' my-custom-class'\n * }\n */\nexport const defaultClasses = {\n  // ===========================================================================\n  // CONTAINER ELEMENTS\n  // ===========================================================================\n\n  /**\n   * Root sidebar container.\n   * Sets up flex layout, background, text color, and width transitions.\n   */\n  root: 'flex flex-col h-full bg-gray-900 text-gray-100 transition-all duration-300 ease-in-out',\n\n  /**\n   * Modifier class applied when sidebar is expanded.\n   * Sets the full expanded width.\n   */\n  rootExpanded: 'w-64',\n\n  /**\n   * Modifier class applied when sidebar is collapsed (rail mode).\n   * Sets the narrow collapsed width.\n   */\n  rootCollapsed: 'w-16',\n\n  /**\n   * Inner wrapper that handles scrolling.\n   * Uses flex-1 to fill remaining space and enables vertical overflow.\n   */\n  wrapper: 'flex-1 overflow-y-auto overflow-x-hidden',\n\n  /**\n   * The <nav> landmark element.\n   * Ensures full height for proper layout.\n   */\n  nav: 'h-full',\n\n  /**\n   * The <ul> menu list.\n   * Removes default list styling and adds vertical spacing.\n   */\n  menu: 'list-none p-0 m-0 space-y-1',\n\n  // ===========================================================================\n  // MENU ITEMS\n  // ===========================================================================\n\n  /**\n   * The <li> list item wrapper.\n   * Provides consistent containment for menu items.\n   */\n  item: 'relative',\n\n  /**\n   * Link/anchor element (base state).\n   * Sets up flex layout, padding, colors, and transitions.\n   */\n  link: 'flex items-center gap-3 px-4 py-3 text-gray-300 rounded-lg mx-2 transition-colors duration-200',\n\n  /**\n   * Active link state (current page).\n   * Uses primary color to indicate the current location.\n   */\n  linkActive: 'bg-blue-600 text-white',\n\n  /**\n   * Hover state for links.\n   * Provides visual feedback on mouse hover.\n   */\n  linkHover: 'hover:bg-gray-800 hover:text-white',\n\n  /**\n   * Focus state for keyboard navigation.\n   * Shows visible focus ring for accessibility.\n   */\n  linkFocus: 'focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-900',\n\n  /**\n   * Disabled link state.\n   * Reduces opacity and changes cursor to indicate non-interactive.\n   */\n  linkDisabled: 'opacity-50 cursor-not-allowed',\n\n  /**\n   * Open group state (submenu expanded).\n   * Provides subtle background to indicate expanded state.\n   */\n  linkOpen: 'bg-gray-800',\n\n  /**\n   * Parent of active child.\n   * Uses a different color treatment to show the path to active item.\n   */\n  linkGroupActive: 'text-blue-400',\n\n  // ===========================================================================\n  // LINK CONTENT ELEMENTS\n  // ===========================================================================\n\n  /**\n   * Icon wrapper element.\n   * Sets consistent icon sizing.\n   */\n  icon: 'w-5 h-5 flex-shrink-0',\n\n  /**\n   * Label text element.\n   * Enables text truncation for long labels.\n   */\n  label: 'flex-1 truncate',\n\n  /**\n   * Badge element.\n   * Pill-shaped badge with primary color.\n   */\n  badge: 'ml-auto px-2 py-0.5 text-xs font-medium rounded-full bg-blue-500 text-white',\n\n  /**\n   * Dropdown arrow element.\n   * Rotates when submenu is expanded.\n   */\n  dropdown: 'ml-auto w-4 h-4 transition-transform duration-200',\n\n  /**\n   * Dropdown arrow when submenu is open.\n   * Rotates 180 degrees to point upward.\n   */\n  dropdownOpen: 'rotate-180',\n\n  // ===========================================================================\n  // GROUP/SUBMENU ELEMENTS\n  // ===========================================================================\n\n  /**\n   * Collapsible group container.\n   * Wraps the expandable submenu area.\n   */\n  group: 'overflow-hidden',\n\n  /**\n   * Group children wrapper.\n   * Provides indentation for nested items.\n   */\n  groupContent: 'pl-4',\n\n  // ===========================================================================\n  // SLOT CONTAINERS\n  // ===========================================================================\n\n  /**\n   * Header slot container (top of sidebar).\n   * Can hold logo, brand, or user info.\n   */\n  header: '',\n\n  /**\n   * Footer slot container (bottom of sidebar).\n   * Can hold version info, logout button, etc.\n   */\n  footer: 'mt-auto',\n\n  // ===========================================================================\n  // MOBILE ELEMENTS\n  // ===========================================================================\n\n  /**\n   * Mobile overlay backdrop.\n   * Semi-transparent overlay behind the drawer.\n   */\n  overlay: 'fixed inset-0 bg-black bg-opacity-50 z-40',\n\n  /**\n   * Mobile drawer panel.\n   * Slides in from the left with shadow.\n   */\n  drawer: 'fixed inset-y-0 left-0 z-50 w-64 bg-gray-900 shadow-xl',\n\n  // ===========================================================================\n  // UTILITY ELEMENTS\n  // ===========================================================================\n\n  /**\n   * Tooltip for collapsed mode.\n   * Shows label when hovering over icons.\n   */\n  tooltip: 'absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded shadow-lg whitespace-nowrap z-50',\n\n  /**\n   * Toggle button for collapse/expand.\n   * Positioned at bottom of sidebar.\n   */\n  toggle: 'flex items-center justify-center p-2 text-gray-400 hover:text-white transition-colors',\n\n  /**\n   * Level-based indentation.\n   * Uses CSS variable for dynamic indentation depth.\n   */\n  indent: 'pl-[calc(var(--level,0)*1rem)]'\n}\n\n// =============================================================================\n// CSS CUSTOM PROPERTIES (VARIABLES)\n// =============================================================================\n\n/**\n * Default CSS custom property values.\n * \n * These values are set on the root element and can be overridden\n * in your CSS to change sizing without modifying classes.\n * \n * @constant {Object} defaultCssVars\n * @property {string} '--sidebar-width' - Expanded sidebar width\n * @property {string} '--sidebar-collapsed-width' - Collapsed sidebar width\n * @property {string} '--sidebar-transition-duration' - Animation duration\n * @property {string} '--sidebar-indent-size' - Indentation per level\n * @property {string} '--sidebar-item-padding-x' - Horizontal padding\n * @property {string} '--sidebar-item-padding-y' - Vertical padding\n * @property {string} '--sidebar-icon-size' - Icon dimensions\n * \n * @example\n * // Override in your CSS\n * :root {\n *   --sidebar-width: 280px;\n *   --sidebar-transition-duration: 200ms;\n * }\n */\nexport const defaultCssVars = {\n  '--sidebar-width': '256px',\n  '--sidebar-collapsed-width': '64px',\n  '--sidebar-transition-duration': '300ms',\n  '--sidebar-indent-size': '16px',\n  '--sidebar-item-padding-x': '16px',\n  '--sidebar-item-padding-y': '10px',\n  '--sidebar-icon-size': '20px'\n}\n\n// =============================================================================\n// CLASS RESOLUTION UTILITIES\n// =============================================================================\n\n/**\n * Resolves a class key through the cascade system.\n * \n * The cascade order (from lowest to highest priority):\n * 1. Default classes (built-in)\n * 2. Global classes (from SidebarMenu `classes` prop)\n * 3. Item classes (from `item.classes` object)\n * \n * Later values completely replace earlier values (no merging).\n * \n * @function resolveClass\n * @param {string} key - The class key to resolve (e.g., 'link', 'linkActive')\n * @param {Object} [globalClasses={}] - Global class overrides\n * @param {Object} [itemClasses={}] - Per-item class overrides\n * @returns {string} The resolved class string\n * \n * @example\n * // Defaults only\n * resolveClass('link')\n * // Returns: defaultClasses.link\n * \n * @example\n * // Global override\n * resolveClass('link', { link: 'custom-link-class' })\n * // Returns: 'custom-link-class'\n * \n * @example\n * // Item override takes priority\n * resolveClass('link', \n *   { link: 'global-link' },\n *   { link: 'item-specific-link' }\n * )\n * // Returns: 'item-specific-link'\n */\nexport function resolveClass(key, globalClasses = {}, itemClasses = {}) {\n  // Item classes have highest priority\n  if (itemClasses && itemClasses[key] !== undefined) {\n    return itemClasses[key] || ''\n  }\n\n  // Global classes override defaults\n  if (globalClasses && globalClasses[key] !== undefined) {\n    return globalClasses[key] || ''\n  }\n\n  // Fall back to defaults\n  return defaultClasses[key] || ''\n}\n\n/**\n * Merges multiple class strings into one.\n * \n * Filters out empty strings and falsy values, then joins with spaces.\n * This is useful for combining base classes with conditional modifiers.\n * \n * @function mergeClasses\n * @param {...(string|boolean|undefined)} classes - Class strings to merge\n * @returns {string} Merged class string\n * \n * @example\n * mergeClasses('base-class', 'modifier')\n * // Returns: 'base-class modifier'\n * \n * @example\n * // With conditionals\n * mergeClasses(\n *   'link',\n *   isActive && 'link-active',\n *   isDisabled && 'link-disabled'\n * )\n * // Returns: 'link link-active' (if isActive is true)\n * \n * @example\n * // Empty values filtered out\n * mergeClasses('a', '', undefined, 'b', false, 'c')\n * // Returns: 'a b c'\n * \n * @example\n * // Deduplication\n * mergeClasses('class-a class-b', 'class-a class-c')\n * // Returns: 'class-a class-b class-c' (no duplicates)\n */\nexport function mergeClasses(...classes) {\n  // Filter out falsy values, split each string into individual classes,\n  // flatten into a single array, and remove duplicates using Set\n  const allClasses = classes\n    .filter(Boolean)\n    .flatMap(cls => String(cls).split(/\\s+/))\n    .filter(Boolean)\n  \n  // Remove duplicates while preserving order\n  return [...new Set(allClasses)].join(' ')\n}\n\n// =============================================================================\n// LINK CLASS GENERATION\n// =============================================================================\n\n/**\n * @typedef {Object} LinkClassOptions\n * @property {Object} [globalClasses={}] - Global class overrides\n * @property {Object} [itemClasses={}] - Per-item class overrides\n * @property {boolean} [isActive=false] - Whether the link is active\n * @property {boolean} [isGroupActive=false] - Whether a child is active\n * @property {boolean} [isOpen=false] - Whether the submenu is open\n * @property {boolean} [isDisabled=false] - Whether the link is disabled\n * @property {boolean} [isHovered=false] - Whether the link is hovered\n * @property {boolean} [isFocused=false] - Whether the link is focused\n * @property {number} [level=0] - Nesting level for indentation\n */\n\n/**\n * Generates the complete class string for a link element.\n * \n * This function combines the base link class with state-specific\n * modifiers. It handles the complex logic of which states override\n * others (e.g., disabled overrides active).\n * \n * State priority (highest to lowest):\n * 1. Disabled - Always shows as disabled\n * 2. Active - Currently on this page\n * 3. Group Active - Child is active (for parent items)\n * 4. Open - Submenu is expanded\n * 5. Hover/Focus - Interactive states\n * \n * @function getLinkClasses\n * @param {LinkClassOptions} options - Configuration options\n * @returns {string} Complete class string for the link\n * \n * @example\n * // Basic active link\n * getLinkClasses({ isActive: true })\n * // Returns: 'flex items-center gap-3 ... bg-blue-600 text-white'\n * \n * @example\n * // Disabled link (overrides active)\n * getLinkClasses({ isActive: true, isDisabled: true })\n * // Returns: 'flex items-center ... opacity-50 cursor-not-allowed'\n * \n * @example\n * // Parent with active child\n * getLinkClasses({ isGroupActive: true, isOpen: true })\n * // Returns: 'flex items-center ... text-blue-400 bg-gray-800'\n * \n * @example\n * // With custom classes\n * getLinkClasses({\n *   globalClasses: { link: 'my-link', linkActive: 'my-active' },\n *   isActive: true\n * })\n * // Returns: 'my-link my-active'\n */\nexport function getLinkClasses(options = {}) {\n  const {\n    globalClasses = {},\n    itemClasses = {},\n    isActive = false,\n    isGroupActive = false,\n    isOpen = false,\n    isDisabled = false,\n    isHovered = false,\n    isFocused = false,\n    level = 0\n  } = options\n\n  // Start with base link class\n  const classes = [\n    resolveClass('link', globalClasses, itemClasses)\n  ]\n\n  // Always add hover class (CSS will handle the :hover pseudo)\n  classes.push(resolveClass('linkHover', globalClasses, itemClasses))\n\n  // Always add focus class (CSS will handle the :focus pseudo)\n  classes.push(resolveClass('linkFocus', globalClasses, itemClasses))\n\n  // State-specific classes (order matters for specificity)\n  if (isDisabled) {\n    // Disabled state - highest priority\n    classes.push(resolveClass('linkDisabled', globalClasses, itemClasses))\n  } else if (isActive) {\n    // Active state - current page\n    classes.push(resolveClass('linkActive', globalClasses, itemClasses))\n  } else if (isGroupActive) {\n    // Parent of active child\n    classes.push(resolveClass('linkGroupActive', globalClasses, itemClasses))\n  }\n\n  // Open state (can combine with other states)\n  if (isOpen && !isActive) {\n    classes.push(resolveClass('linkOpen', globalClasses, itemClasses))\n  }\n\n  // Add indentation for nested items\n  if (level > 0) {\n    classes.push(resolveClass('indent', globalClasses, itemClasses))\n  }\n\n  return mergeClasses(...classes)\n}\n\n// =============================================================================\n// ADDITIONAL UTILITY FUNCTIONS\n// =============================================================================\n\n/**\n * Generates CSS variable string for inline styles.\n * \n * Useful for setting dynamic CSS variables on elements.\n * \n * @function getCssVarStyle\n * @param {Object} vars - Object with CSS variable names and values\n * @returns {string} CSS variable declarations for inline style\n * \n * @example\n * getCssVarStyle({ '--level': 2, '--custom': 'value' })\n * // Returns: '--level: 2; --custom: value;'\n */\nexport function getCssVarStyle(vars) {\n  return Object.entries(vars)\n    .map(([key, value]) => `${key}: ${value}`)\n    .join('; ')\n}\n\n/**\n * Creates an object suitable for :style binding with CSS variables.\n * \n * @function getCssVarObject\n * @param {number} level - Nesting level\n * @returns {Object} Style object with CSS variable\n * \n * @example\n * // In template: :style=\"getCssVarObject(2)\"\n * getCssVarObject(2)\n * // Returns: { '--level': 2 }\n */\nexport function getCssVarObject(level) {\n  return { '--level': level }\n}\n","/**\n * @fileoverview Menu Item Composable\n * \n * This module provides the logic and state management for individual menu items.\n * It handles:\n * - Active state detection and styling\n * - Expanded/collapsed state for groups\n * - Event handling (click, keyboard, hover)\n * - Accessibility attributes (ARIA)\n * - Dynamic class generation\n * \n * The composable integrates with the sidebar context and uses the class\n * cascade system (defaults  global  item-specific).\n * \n * @module composables/useMenuItem\n * @author Hassan Ali\n * @license MIT\n * \n * @example\n * // In a menu item component\n * import { useMenuItem } from 'vue-sidebar-kit'\n * \n * const props = defineProps({ item: Object, level: Number })\n * \n * const {\n *   isActive,\n *   isExpanded,\n *   hasChildren,\n *   classes,\n *   ariaAttrs,\n *   handleClick\n * } = useMenuItem(props.item, props.level)\n */\n\nimport { computed, ref } from 'vue'\nimport { useSidebar } from './useSidebar.js'\nimport { isItemActive, isParentOfActive } from './useActiveState.js'\nimport { resolveClass, getLinkClasses } from '../styles/classes.js'\n\n/**\n * Creates a composable for managing a single menu item's state and behavior.\n * \n * This composable centralizes all the logic for a menu item, making the\n * component template declarative. It provides computed properties for:\n * - Visual states (active, expanded, disabled, parent of active)\n * - CSS classes (resolved through the class cascade system)\n * - Accessibility attributes\n * - Event handlers\n * \n * @function useMenuItem\n * @param {MenuItem} item - The menu item configuration object\n * @param {number} [level=0] - Nesting level (0 = top-level, 1 = first child, etc.)\n * @param {Object} [options={}] - Additional options\n * @param {Object} [options.context] - Sidebar context (auto-injected if not provided)\n * \n * @returns {Object} Menu item utilities and state\n * @returns {import('vue').ComputedRef<boolean>} returns.hasChildren - Whether item has children\n * @returns {import('vue').ComputedRef<boolean>} returns.isActive - Whether item is active\n * @returns {import('vue').ComputedRef<boolean>} returns.isGroupActive - Whether any child is active\n * @returns {import('vue').ComputedRef<boolean>} returns.isExpanded - Whether group is expanded\n * @returns {import('vue').ComputedRef<boolean>} returns.isDisabled - Whether item is disabled\n * @returns {import('vue').ComputedRef<boolean>} returns.isVisible - Whether item should be rendered\n * @returns {import('vue').ComputedRef<boolean>} returns.isExternal - Whether item is external link\n * @returns {import('vue').ComputedRef<string>} returns.itemClass - CSS class for <li> element\n * @returns {import('vue').ComputedRef<string>} returns.linkClass - CSS class for link element\n * @returns {import('vue').ComputedRef<Object>} returns.ariaAttrs - ARIA attributes object\n * @returns {Function} returns.handleClick - Click event handler\n * @returns {Function} returns.handleKeydown - Keyboard event handler\n * @returns {Function} returns.toggle - Toggle expanded state (for groups)\n * \n * @example\n * // In SidebarMenuItem.vue\n * const {\n *   hasChildren,\n *   isActive,\n *   isExpanded,\n *   itemClass,\n *   linkClass,\n *   ariaAttrs,\n *   handleClick,\n *   handleKeydown\n * } = useMenuItem(props.item, props.level)\n * \n * // Use in template:\n * // <li :class=\"itemClass\">\n * //   <a :class=\"linkClass\" v-bind=\"ariaAttrs\" @click=\"handleClick\" @keydown=\"handleKeydown\">\n * //     ...\n * //   </a>\n * // </li>\n */\nexport function useMenuItem(item, level = 0, options = {}) {\n  // ===========================================================================\n  // CONTEXT & DEPENDENCIES\n  // ===========================================================================\n\n  /**\n   * Get sidebar context - either provided or injected.\n   * This provides access to global states like collapsed, currentPath, etc.\n   */\n  const ctx = options.context || useSidebar()\n\n  // ===========================================================================\n  // STATE COMPUTATIONS\n  // ===========================================================================\n\n  /**\n   * Whether this menu item has children (is a group/submenu).\n   * Items with children can be expanded/collapsed and show a dropdown arrow.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const hasChildren = computed(() => {\n    return Boolean(item.children && item.children.length > 0)\n  })\n\n  /**\n   * Whether this item itself is active (matches current route).\n   * Active items receive special styling to indicate current location.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const isActive = computed(() => {\n    return isItemActive(item, ctx.currentPath.value)\n  })\n\n  /**\n   * Whether this item is a parent of an active child (any depth).\n   * Used to highlight the path to the currently active item.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const isGroupActive = computed(() => {\n    return isParentOfActive(item, ctx.currentPath.value)\n  })\n\n  /**\n   * Whether this group item is currently expanded.\n   * Only meaningful for items with children.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const isExpanded = computed(() => {\n    if (!hasChildren.value) return false\n    return ctx.isGroupExpanded(item.id)\n  })\n\n  /**\n   * Whether this item is disabled.\n   * Disabled items cannot be clicked or navigated to.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const isDisabled = computed(() => {\n    return Boolean(item.disabled)\n  })\n\n  /**\n   * Whether this item should be visible.\n   * Supports both boolean and function-based visibility.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const isVisible = computed(() => {\n    if (typeof item.visible === 'function') {\n      return item.visible({ item })\n    }\n    return item.visible !== false\n  })\n\n  /**\n   * Whether this is an external link (opens in new tab).\n   * External links get target=\"_blank\" and don't trigger SPA navigation.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const isExternal = computed(() => {\n    return Boolean(item.external)\n  })\n\n  /**\n   * Whether this item should be hidden when sidebar is collapsed.\n   * Typically true for header/separator items.\n   * @type {import('vue').ComputedRef<boolean>}\n   */\n  const isHiddenOnCollapse = computed(() => {\n    return Boolean(item.hiddenOnCollapse) && ctx.isCollapsed.value\n  })\n\n  // ===========================================================================\n  // CLASS GENERATION\n  // ===========================================================================\n\n  /**\n   * CSS class for the <li> wrapper element.\n   * Computed based on item state and class overrides.\n   * @type {import('vue').ComputedRef<string>}\n   */\n  const itemClass = computed(() => {\n    const classes = [\n      resolveClass('item', ctx.classes.value, item.classes)\n    ]\n\n    // Add any custom class specified on the item\n    if (item.class) {\n      classes.push(item.class)\n    }\n\n    return classes.filter(Boolean).join(' ')\n  })\n\n  /**\n   * CSS class for the link/anchor element.\n   * Uses getLinkClasses to apply state-based classes.\n   * @type {import('vue').ComputedRef<string>}\n   */\n  const linkClass = computed(() => {\n    return getLinkClasses({\n      globalClasses: ctx.classes.value,\n      itemClasses: item.classes,\n      isActive: isActive.value,\n      isGroupActive: isGroupActive.value,\n      isOpen: isExpanded.value,\n      isDisabled: isDisabled.value,\n      level\n    })\n  })\n\n  /**\n   * CSS class for the icon wrapper element.\n   * @type {import('vue').ComputedRef<string>}\n   */\n  const iconClass = computed(() => {\n    return resolveClass('icon', ctx.classes.value, item.classes)\n  })\n\n  /**\n   * CSS class for the label text element.\n   * @type {import('vue').ComputedRef<string>}\n   */\n  const labelClass = computed(() => {\n    return resolveClass('label', ctx.classes.value, item.classes)\n  })\n\n  /**\n   * CSS class for the badge element.\n   * @type {import('vue').ComputedRef<string>}\n   */\n  const badgeClass = computed(() => {\n    return resolveClass('badge', ctx.classes.value, item.classes)\n  })\n\n  /**\n   * CSS class for the dropdown arrow element.\n   * Also includes open state class when expanded.\n   * @type {import('vue').ComputedRef<string>}\n   */\n  const dropdownClass = computed(() => {\n    const base = resolveClass('dropdown', ctx.classes.value, item.classes)\n    if (isExpanded.value) {\n      const openClass = resolveClass('dropdownOpen', ctx.classes.value, item.classes)\n      return `${base} ${openClass}`.trim()\n    }\n    return base\n  })\n\n  // ===========================================================================\n  // ACCESSIBILITY ATTRIBUTES\n  // ===========================================================================\n\n  /**\n   * ARIA attributes for accessibility.\n   * Provides semantic information to screen readers.\n   * \n   * Includes:\n   * - aria-current=\"page\" for active items\n   * - aria-expanded for groups\n   * - aria-disabled for disabled items\n   * - role attributes as needed\n   * \n   * @type {import('vue').ComputedRef<Object>}\n   */\n  const ariaAttrs = computed(() => {\n    const attrs = {}\n\n    // Active state\n    if (isActive.value) {\n      attrs['aria-current'] = 'page'\n    }\n\n    // Expandable groups\n    if (hasChildren.value) {\n      attrs['aria-expanded'] = isExpanded.value ? 'true' : 'false'\n      attrs['aria-haspopup'] = 'true'\n    }\n\n    // Disabled state\n    if (isDisabled.value) {\n      attrs['aria-disabled'] = 'true'\n      attrs['tabindex'] = '-1'\n    }\n\n    return attrs\n  })\n\n  // ===========================================================================\n  // EVENT HANDLERS\n  // ===========================================================================\n\n  /**\n   * Handles click events on the menu item.\n   * \n   * Behavior:\n   * 1. If disabled, prevent default and stop propagation\n   * 2. If item has children, toggle expanded state\n   * 3. If on mobile, close drawer after navigation (for leaf items)\n   * 4. Emit item-click event for parent handling\n   * \n   * @function handleClick\n   * @param {MouseEvent} event - The click event\n   * @returns {void}\n   * \n   * @example\n   * // In template\n   * <a @click=\"handleClick\">Link text</a>\n   */\n  function handleClick(event) {\n    // Disabled items don't respond to clicks\n    if (isDisabled.value) {\n      event.preventDefault()\n      event.stopPropagation()\n      return\n    }\n\n    // Groups toggle their expanded state\n    if (hasChildren.value) {\n      event.preventDefault()\n      ctx.toggleGroup(item.id)\n      return\n    }\n\n    // Close mobile drawer on navigation (for leaf items)\n    if (ctx.mobileOpen.value) {\n      ctx.closeMobile()\n    }\n  }\n\n  /**\n   * Handles keyboard events for accessibility.\n   * \n   * Supports:\n   * - Enter/Space: Same as click\n   * - ArrowRight: Expand group\n   * - ArrowLeft: Collapse group\n   * \n   * @function handleKeydown\n   * @param {KeyboardEvent} event - The keyboard event\n   * @returns {void}\n   * \n   * @example\n   * // In template\n   * <a @keydown=\"handleKeydown\" tabindex=\"0\">Link text</a>\n   */\n  function handleKeydown(event) {\n    switch (event.key) {\n      case 'Enter':\n      case ' ':\n        event.preventDefault()\n        handleClick(event)\n        break\n\n      case 'ArrowRight':\n        if (hasChildren.value && !isExpanded.value) {\n          event.preventDefault()\n          ctx.toggleGroup(item.id)\n        }\n        break\n\n      case 'ArrowLeft':\n        if (hasChildren.value && isExpanded.value) {\n          event.preventDefault()\n          ctx.toggleGroup(item.id)\n        }\n        break\n    }\n  }\n\n  /**\n   * Toggles the expanded state of this group.\n   * Convenience method that wraps ctx.toggleGroup.\n   * \n   * @function toggle\n   * @returns {void}\n   */\n  function toggle() {\n    if (hasChildren.value) {\n      ctx.toggleGroup(item.id)\n    }\n  }\n\n  // ===========================================================================\n  // RETURN VALUE\n  // ===========================================================================\n\n  return {\n    // State\n    hasChildren,\n    isActive,\n    isGroupActive,\n    isExpanded,\n    isDisabled,\n    isVisible,\n    isExternal,\n    isHiddenOnCollapse,\n\n    // Classes\n    itemClass,\n    linkClass,\n    iconClass,\n    labelClass,\n    badgeClass,\n    dropdownClass,\n\n    // Accessibility\n    ariaAttrs,\n\n    // Event handlers\n    handleClick,\n    handleKeydown,\n    toggle,\n\n    // Context access\n    context: ctx,\n    level\n  }\n}\n","<template>\n  <li\n    v-if=\"isVisible\"\n    :class=\"itemClasses\"\n    :data-level=\"level\"\n    :style=\"{ '--vsm-level': level }\"\n    v-bind=\"item.attrs\"\n  >\n    <!-- Header Item -->\n    <template v-if=\"isHeader\">\n      <div\n        :class=\"headerClasses\"\n        v-show=\"!isCollapsed || !item.hiddenOnCollapse\"\n      >\n        {{ item.header }}\n      </div>\n    </template>\n\n    <!-- Component Item -->\n    <template v-else-if=\"isComponent\">\n      <component\n        :is=\"item.component\"\n        v-bind=\"item.props || {}\"\n        v-show=\"!isCollapsed || !item.hiddenOnCollapse\"\n      />\n    </template>\n\n    <!-- Regular Menu Item -->\n    <template v-else>\n      <!-- Link -->\n      <SidebarMenuLink\n        :item=\"item\"\n        :mode=\"mode\"\n        :disabled=\"isDisabled\"\n        :prevent-default=\"hasChildren && !item.href && !item.to\"\n        :link-class=\"linkClasses\"\n        @click=\"handleClick\"\n        @mouseenter=\"handleMouseEnter\"\n        @mouseleave=\"handleMouseLeave\"\n        @focus=\"handleFocus\"\n        @blur=\"handleBlur\"\n        @keydown=\"handleKeydown\"\n        v-bind=\"ariaAttrs\"\n      >\n        <!-- Icon -->\n        <slot name=\"item-icon\" :item=\"item\" :icon=\"item.icon\">\n          <SidebarMenuIcon\n            v-if=\"item.icon\"\n            :icon=\"item.icon\"\n            :icon-class=\"iconClasses\"\n          />\n        </slot>\n\n        <!-- Label (hidden in collapsed mode) -->\n        <span v-show=\"!isCollapsed\" :class=\"labelClasses\">\n          {{ item.label }}\n        </span>\n\n        <!-- Badge (hidden in collapsed mode) -->\n        <slot v-if=\"item.badge && !isCollapsed\" name=\"item-badge\" :item=\"item\" :badge=\"item.badge\">\n          <SidebarMenuBadge\n            :badge=\"item.badge\"\n            :badge-class=\"badgeClasses\"\n          />\n        </slot>\n\n        <!-- Dropdown Arrow (if has children) -->\n        <slot\n          v-if=\"hasChildren && !isCollapsed\"\n          name=\"dropdown-icon\"\n          :is-open=\"isExpanded\"\n          :toggle=\"toggleExpanded\"\n        >\n          <svg\n            :class=\"dropdownClasses\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\"\n            aria-hidden=\"true\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n              clip-rule=\"evenodd\"\n            />\n          </svg>\n        </slot>\n      </SidebarMenuLink>\n\n      <!-- Tooltip (collapsed mode) -->\n      <SidebarTooltip\n        v-if=\"isCollapsed && level === 1\"\n        :show=\"showTooltip\"\n        :text=\"item.label\"\n        :tooltip-class=\"tooltipClasses\"\n        :aria-describedby=\"tooltipId\"\n      />\n\n      <!-- Children (collapsible group) -->\n      <Transition name=\"vsm-group\">\n        <ul\n          v-if=\"hasChildren && isExpanded && !isCollapsed\"\n          :id=\"groupId\"\n          :class=\"groupClasses\"\n          role=\"group\"\n        >\n          <SidebarMenuItem\n            v-for=\"child in visibleChildren\"\n            :key=\"child.id\"\n            :item=\"child\"\n            :level=\"level + 1\"\n            :mode=\"mode\"\n          >\n            <!-- Pass through slots -->\n            <template #item-icon=\"slotProps\">\n              <slot name=\"item-icon\" v-bind=\"slotProps\" />\n            </template>\n            <template #item-badge=\"slotProps\">\n              <slot name=\"item-badge\" v-bind=\"slotProps\" />\n            </template>\n            <template #dropdown-icon=\"slotProps\">\n              <slot name=\"dropdown-icon\" v-bind=\"slotProps\" />\n            </template>\n          </SidebarMenuItem>\n        </ul>\n      </Transition>\n    </template>\n  </li>\n</template>\n\n<script>\nimport { defineComponent, computed, ref, inject } from 'vue'\nimport SidebarMenuLink from './SidebarMenuLink.vue'\nimport SidebarMenuIcon from './SidebarMenuIcon.vue'\nimport SidebarMenuBadge from './SidebarMenuBadge.vue'\nimport SidebarTooltip from './SidebarTooltip.vue'\nimport { useMenuItem } from '../composables/useMenuItem.js'\nimport { useSidebar } from '../composables/useSidebar.js'\nimport { defaultClasses, resolveClass } from '../styles/classes.js'\n\nlet itemIdCounter = 0\n\nexport default defineComponent({\n  name: 'SidebarMenuItem',\n\n  components: {\n    SidebarMenuLink,\n    SidebarMenuIcon,\n    SidebarMenuBadge,\n    SidebarTooltip\n  },\n\n  props: {\n    /**\n     * Menu item data\n     */\n    item: {\n      type: Object,\n      required: true\n    },\n\n    /**\n     * Nesting level (1-based)\n     */\n    level: {\n      type: Number,\n      default: 1\n    },\n\n    /**\n     * Navigation mode override\n     */\n    mode: {\n      type: String,\n      default: null\n    }\n  },\n\n  emits: ['item-click'],\n\n  setup(props, { emit }) {\n    const sidebar = useSidebar()\n    const itemId = `vsm-item-${++itemIdCounter}`\n    const groupId = `vsm-group-${props.item.id || itemIdCounter}`\n    const tooltipId = `vsm-tooltip-${itemIdCounter}`\n\n    // Use the menu item composable\n    const {\n      isActive,\n      isParentOfActive,\n      isExpanded,\n      isDisabled,\n      isVisible,\n      isHiddenOnCollapse,\n      isExternal,\n      hasChildren,\n      isHovered,\n      isFocused,\n      showTooltip,\n      itemClasses: baseItemClasses,\n      linkClasses: baseLinkClasses,\n      iconClasses: baseIconClasses,\n      labelClasses: baseLabelClasses,\n      badgeClasses: baseBadgeClasses,\n      dropdownClasses: baseDropdownClasses,\n      ariaAttrs,\n      handleClick: baseHandleClick,\n      handleKeydown,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleFocus,\n      handleBlur,\n      toggleExpanded\n    } = useMenuItem(props, emit)\n\n    // =========================================================================\n    // ITEM TYPE DETECTION\n    // =========================================================================\n\n    const isHeader = computed(() => {\n      return 'header' in props.item\n    })\n\n    const isComponent = computed(() => {\n      return 'component' in props.item\n    })\n\n    const isCollapsed = computed(() => {\n      return sidebar.isCollapsed\n    })\n\n    // =========================================================================\n    // CLASSES (with overrides)\n    // =========================================================================\n\n    const itemClasses = computed(() => {\n      return [\n        'vsm-item',\n        resolveClass('item', sidebar.classes, props.item.classes),\n        {\n          'vsm-item--active': isActive.value,\n          'vsm-item--parent-active': isParentOfActive.value,\n          'vsm-item--expanded': isExpanded.value,\n          'vsm-item--disabled': isDisabled.value,\n          'vsm-item--has-children': hasChildren.value,\n          [`vsm-item--level-${props.level}`]: true\n        },\n        props.item.class\n      ]\n    })\n\n    const linkClasses = computed(() => {\n      const base = resolveClass('link', sidebar.classes, props.item.classes)\n      const activeClass = isActive.value\n        ? resolveClass('linkActive', sidebar.classes, props.item.classes)\n        : ''\n      const hoverClass = isHovered.value\n        ? resolveClass('linkHover', sidebar.classes, props.item.classes)\n        : ''\n      const focusClass = isFocused.value\n        ? resolveClass('linkFocus', sidebar.classes, props.item.classes)\n        : ''\n      const disabledClass = isDisabled.value\n        ? resolveClass('linkDisabled', sidebar.classes, props.item.classes)\n        : ''\n      const openClass = isExpanded.value\n        ? resolveClass('linkOpen', sidebar.classes, props.item.classes)\n        : ''\n      const groupActiveClass = isParentOfActive.value\n        ? resolveClass('linkGroupActive', sidebar.classes, props.item.classes)\n        : ''\n\n      return [\n        base,\n        activeClass,\n        hoverClass,\n        focusClass,\n        disabledClass,\n        openClass,\n        groupActiveClass,\n        `vsm-level-${props.level}`\n      ].filter(Boolean).join(' ')\n    })\n\n    const iconClasses = computed(() => {\n      return resolveClass('icon', sidebar.classes, props.item.classes)\n    })\n\n    const labelClasses = computed(() => {\n      return [\n        'vsm-label',\n        resolveClass('label', sidebar.classes, props.item.classes)\n      ].filter(Boolean).join(' ')\n    })\n\n    const badgeClasses = computed(() => {\n      return resolveClass('badge', sidebar.classes, props.item.classes)\n    })\n\n    const dropdownClasses = computed(() => {\n      const base = resolveClass('dropdown', sidebar.classes, props.item.classes)\n      const openClass = isExpanded.value ? 'vsm-dropdown-icon--open' : ''\n      return [base, 'vsm-dropdown-icon', openClass].filter(Boolean).join(' ')\n    })\n\n    const headerClasses = computed(() => {\n      return [\n        'vsm-header',\n        'text-xs font-semibold uppercase tracking-wider text-gray-400 px-4 py-2',\n        resolveClass('header', sidebar.classes, {}),\n        props.item.class\n      ].filter(Boolean)\n    })\n\n    const groupClasses = computed(() => {\n      return [\n        'vsm-group',\n        resolveClass('group', sidebar.classes, props.item.classes)\n      ].filter(Boolean)\n    })\n\n    const tooltipClasses = computed(() => {\n      return resolveClass('tooltip', sidebar.classes, props.item.classes)\n    })\n\n    // =========================================================================\n    // CHILDREN\n    // =========================================================================\n\n    const visibleChildren = computed(() => {\n      if (!props.item.children) return []\n\n      return props.item.children.filter(child => {\n        if (typeof child.visible === 'function') {\n          return child.visible({ item: child })\n        }\n        return child.visible !== false\n      })\n    })\n\n    // =========================================================================\n    // HANDLERS\n    // =========================================================================\n\n    function handleClick(event) {\n      baseHandleClick(event)\n      emit('item-click', { event, item: props.item })\n    }\n\n    return {\n      // IDs\n      itemId,\n      groupId,\n      tooltipId,\n\n      // State\n      isHeader,\n      isComponent,\n      isCollapsed,\n      isActive,\n      isParentOfActive,\n      isExpanded,\n      isDisabled,\n      isVisible,\n      isHiddenOnCollapse,\n      isExternal,\n      hasChildren,\n      isHovered,\n      isFocused,\n      showTooltip,\n\n      // Classes\n      itemClasses,\n      linkClasses,\n      iconClasses,\n      labelClasses,\n      badgeClasses,\n      dropdownClasses,\n      headerClasses,\n      groupClasses,\n      tooltipClasses,\n\n      // Data\n      visibleChildren,\n      ariaAttrs,\n\n      // Handlers\n      handleClick,\n      handleKeydown,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleFocus,\n      handleBlur,\n      toggleExpanded\n    }\n  }\n})\n</script>\n","<template>\n  <Teleport to=\"body\">\n    <!-- Overlay -->\n    <Transition name=\"vsm-overlay\">\n      <div\n        v-if=\"mobileOpen\"\n        :class=\"overlayClasses\"\n        @click=\"handleOverlayClick\"\n        aria-hidden=\"true\"\n      />\n    </Transition>\n\n    <!-- Drawer -->\n    <Transition name=\"vsm-drawer\">\n      <aside\n        v-if=\"mobileOpen\"\n        ref=\"drawerRef\"\n        :class=\"drawerClasses\"\n        :style=\"drawerStyles\"\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label=\"Navigation menu\"\n      >\n        <!-- Close Button -->\n        <button\n          type=\"button\"\n          :class=\"closeButtonClasses\"\n          @click=\"close\"\n          aria-label=\"Close navigation\"\n        >\n          <slot name=\"close-icon\">\n            <svg\n              class=\"w-6 h-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </slot>\n        </button>\n\n        <!-- Drawer Content -->\n        <div :class=\"drawerContentClasses\">\n          <slot />\n        </div>\n      </aside>\n    </Transition>\n  </Teleport>\n</template>\n\n<script>\nimport { defineComponent, computed, ref, watch, onMounted, onUnmounted } from 'vue'\nimport { defaultClasses } from '../styles/classes.js'\n\nexport default defineComponent({\n  name: 'SidebarMobileDrawer',\n\n  props: {\n    /**\n     * Whether the drawer is open\n     */\n    mobileOpen: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Drawer width\n     */\n    width: {\n      type: String,\n      default: '280px'\n    },\n\n    /**\n     * Class overrides\n     */\n    classes: {\n      type: Object,\n      default: () => ({})\n    },\n\n    /**\n     * RTL mode\n     */\n    rtl: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  emits: ['update:mobileOpen', 'close'],\n\n  setup(props, { emit }) {\n    const drawerRef = ref(null)\n\n    // =========================================================================\n    // CLASSES\n    // =========================================================================\n\n    const overlayClasses = computed(() => {\n      return [\n        'vsm-overlay',\n        props.classes.overlay || defaultClasses.overlay\n      ].filter(Boolean)\n    })\n\n    const drawerClasses = computed(() => {\n      return [\n        'vsm-drawer',\n        props.classes.drawer || defaultClasses.drawer,\n        props.rtl ? 'vsm-drawer--rtl' : ''\n      ].filter(Boolean)\n    })\n\n    const drawerStyles = computed(() => {\n      return {\n        width: props.width,\n        '--sidebar-width': props.width\n      }\n    })\n\n    const closeButtonClasses = computed(() => {\n      return [\n        'vsm-drawer-close',\n        'absolute top-4 right-4 p-1 rounded-md',\n        'text-gray-400 hover:text-white hover:bg-gray-700',\n        'focus:outline-none focus:ring-2 focus:ring-white',\n        'transition-colors'\n      ]\n    })\n\n    const drawerContentClasses = computed(() => {\n      return [\n        'vsm-drawer-content',\n        'flex flex-col h-full overflow-hidden pt-12'\n      ]\n    })\n\n    // =========================================================================\n    // HANDLERS\n    // =========================================================================\n\n    function close() {\n      emit('update:mobileOpen', false)\n      emit('close')\n    }\n\n    function handleOverlayClick() {\n      close()\n    }\n\n    function handleEscape(event) {\n      if (event.key === 'Escape' && props.mobileOpen) {\n        close()\n      }\n    }\n\n    // =========================================================================\n    // BODY SCROLL LOCK\n    // =========================================================================\n\n    function lockScroll() {\n      if (typeof document !== 'undefined') {\n        document.body.classList.add('vsm-no-scroll')\n      }\n    }\n\n    function unlockScroll() {\n      if (typeof document !== 'undefined') {\n        document.body.classList.remove('vsm-no-scroll')\n      }\n    }\n\n    // =========================================================================\n    // FOCUS TRAP (basic)\n    // =========================================================================\n\n    function handleTabKey(event) {\n      if (!props.mobileOpen || !drawerRef.value) return\n\n      const focusableElements = drawerRef.value.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      )\n\n      if (focusableElements.length === 0) return\n\n      const firstElement = focusableElements[0]\n      const lastElement = focusableElements[focusableElements.length - 1]\n\n      if (event.shiftKey && document.activeElement === firstElement) {\n        event.preventDefault()\n        lastElement.focus()\n      } else if (!event.shiftKey && document.activeElement === lastElement) {\n        event.preventDefault()\n        firstElement.focus()\n      }\n    }\n\n    function handleKeydown(event) {\n      if (event.key === 'Escape') {\n        handleEscape(event)\n      } else if (event.key === 'Tab') {\n        handleTabKey(event)\n      }\n    }\n\n    // =========================================================================\n    // LIFECYCLE\n    // =========================================================================\n\n    watch(() => props.mobileOpen, (isOpen) => {\n      if (isOpen) {\n        lockScroll()\n        // Focus first focusable element after transition\n        setTimeout(() => {\n          if (drawerRef.value) {\n            const close = drawerRef.value.querySelector('.vsm-drawer-close')\n            if (close) close.focus()\n          }\n        }, 100)\n      } else {\n        unlockScroll()\n      }\n    })\n\n    onMounted(() => {\n      if (typeof document !== 'undefined') {\n        document.addEventListener('keydown', handleKeydown)\n      }\n    })\n\n    onUnmounted(() => {\n      unlockScroll()\n      if (typeof document !== 'undefined') {\n        document.removeEventListener('keydown', handleKeydown)\n      }\n    })\n\n    return {\n      drawerRef,\n      overlayClasses,\n      drawerClasses,\n      drawerStyles,\n      closeButtonClasses,\n      drawerContentClasses,\n      close,\n      handleOverlayClick\n    }\n  }\n})\n</script>\n","<template>\n  <aside\n    ref=\"sidebarRef\"\n    :class=\"sidebarClasses\"\n    :style=\"sidebarStyles\"\n    :dir=\"rtl ? 'rtl' : undefined\"\n    @mouseenter=\"handleMouseEnter\"\n    @mouseleave=\"handleMouseLeave\"\n  >\n    <div :class=\"wrapperClasses\">\n      <!-- Header Slot -->\n      <div v-if=\"$slots.header\" :class=\"headerClasses\">\n        <slot name=\"header\" />\n      </div>\n\n      <!-- Brand Slot -->\n      <div v-if=\"$slots.brand\" :class=\"brandClasses\">\n        <slot name=\"brand\" />\n      </div>\n\n      <!-- Navigation -->\n      <nav :class=\"navClasses\" aria-label=\"Main navigation\">\n        <ul :class=\"menuClasses\" role=\"menubar\">\n          <SidebarMenuItem\n            v-for=\"item in visibleItems\"\n            :key=\"item.id\"\n            :item=\"item\"\n            :level=\"1\"\n            :mode=\"mode\"\n            @item-click=\"handleItemClick\"\n          >\n            <!-- Pass through all slots -->\n            <template #item-icon=\"slotProps\">\n              <slot name=\"item-icon\" v-bind=\"slotProps\" />\n            </template>\n            <template #item-badge=\"slotProps\">\n              <slot name=\"item-badge\" v-bind=\"slotProps\" />\n            </template>\n            <template #dropdown-icon=\"slotProps\">\n              <slot name=\"dropdown-icon\" v-bind=\"slotProps\">\n                <svg\n                  :class=\"['w-4 h-4 transition-transform', slotProps.isOpen ? 'rotate-180' : '']\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"currentColor\"\n                  aria-hidden=\"true\"\n                >\n                  <path\n                    fill-rule=\"evenodd\"\n                    d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n                    clip-rule=\"evenodd\"\n                  />\n                </svg>\n              </slot>\n            </template>\n          </SidebarMenuItem>\n        </ul>\n      </nav>\n\n      <!-- User Slot -->\n      <div v-if=\"$slots.user\" :class=\"userClasses\">\n        <slot name=\"user\" />\n      </div>\n\n      <!-- Footer Slot -->\n      <div v-if=\"$slots.footer\" :class=\"footerClasses\">\n        <slot name=\"footer\" />\n      </div>\n\n      <!-- Toggle Button -->\n      <button\n        v-if=\"!hideToggle\"\n        type=\"button\"\n        :class=\"toggleClasses\"\n        :aria-label=\"isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'\"\n        :aria-expanded=\"!isCollapsed\"\n        @click=\"handleToggle\"\n      >\n        <slot name=\"toggle-icon\" :collapsed=\"isCollapsed\">\n          <svg\n            class=\"w-5 h-5 transition-transform\"\n            :class=\"{ 'rotate-180': isCollapsed }\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n            aria-hidden=\"true\"\n          >\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\"\n            />\n          </svg>\n        </slot>\n      </button>\n    </div>\n  </aside>\n\n  <!-- Mobile Drawer (when using mobile mode) -->\n  <SidebarMobileDrawer\n    v-if=\"showMobileDrawer\"\n    :mobile-open=\"mobileOpen\"\n    :width=\"width\"\n    :classes=\"classes\"\n    :rtl=\"rtl\"\n    @update:mobile-open=\"handleMobileUpdate\"\n    @close=\"handleMobileClose\"\n  >\n    <slot name=\"header\" />\n    <slot name=\"brand\" />\n    <nav :class=\"navClasses\" aria-label=\"Main navigation\">\n      <ul :class=\"menuClasses\" role=\"menubar\">\n        <SidebarMenuItem\n          v-for=\"item in visibleItems\"\n          :key=\"item.id\"\n          :item=\"item\"\n          :level=\"1\"\n          :mode=\"mode\"\n          @item-click=\"handleMobileItemClick\"\n        >\n          <template #item-icon=\"slotProps\">\n            <slot name=\"item-icon\" v-bind=\"slotProps\" />\n          </template>\n          <template #item-badge=\"slotProps\">\n            <slot name=\"item-badge\" v-bind=\"slotProps\" />\n          </template>\n          <template #dropdown-icon=\"slotProps\">\n            <slot name=\"dropdown-icon\" v-bind=\"slotProps\" />\n          </template>\n        </SidebarMenuItem>\n      </ul>\n    </nav>\n    <slot name=\"user\" />\n    <slot name=\"footer\" />\n  </SidebarMobileDrawer>\n</template>\n\n<script>\nimport { defineComponent, ref, computed, provide, watch, onMounted } from 'vue'\nimport SidebarMenuItem from './SidebarMenuItem.vue'\nimport SidebarMobileDrawer from './SidebarMobileDrawer.vue'\nimport { createSidebarContext, provideSidebar } from '../composables/useSidebar.js'\nimport { defaultClasses, resolveClass } from '../styles/classes.js'\n\nexport default defineComponent({\n  name: 'SidebarMenu',\n\n  components: {\n    SidebarMenuItem,\n    SidebarMobileDrawer\n  },\n\n  props: {\n    /**\n     * Menu items array\n     */\n    items: {\n      type: Array,\n      required: true\n    },\n\n    /**\n     * Navigation mode: 'inertia' | 'router' | 'a'\n     */\n    mode: {\n      type: String,\n      default: 'a',\n      validator: (v) => ['inertia', 'router', 'a'].includes(v)\n    },\n\n    /**\n     * Collapsed state (v-model:collapsed)\n     */\n    collapsed: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Mobile drawer open state (v-model:mobileOpen)\n     */\n    mobileOpen: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * localStorage key for persistence\n     */\n    storageKey: {\n      type: String,\n      default: undefined\n    },\n\n    /**\n     * Expanded sidebar width\n     */\n    width: {\n      type: String,\n      default: '256px'\n    },\n\n    /**\n     * Collapsed sidebar width\n     */\n    collapsedWidth: {\n      type: String,\n      default: '64px'\n    },\n\n    /**\n     * Accordion behavior\n     */\n    showOneChild: {\n      type: [Boolean, String],\n      default: false,\n      validator: (v) => typeof v === 'boolean' || v === 'deep'\n    },\n\n    /**\n     * Keep all children expanded\n     */\n    showChild: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Right-to-left\n     */\n    rtl: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Relative to parent\n     */\n    relative: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Hide toggle button\n     */\n    hideToggle: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Disable hover expansion\n     */\n    disableHover: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Expand on hover when collapsed\n     */\n    expandOnHover: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Custom link component name\n     */\n    linkComponentName: {\n      type: String,\n      default: undefined\n    },\n\n    /**\n     * Class overrides\n     */\n    classes: {\n      type: Object,\n      default: () => ({})\n    },\n\n    /**\n     * Mobile breakpoint (px)\n     */\n    mobileBreakpoint: {\n      type: Number,\n      default: 768\n    }\n  },\n\n  emits: ['update:collapsed', 'update:mobileOpen', 'item-click'],\n\n  setup(props, { emit }) {\n    const sidebarRef = ref(null)\n\n    // Create and provide sidebar context\n    const context = createSidebarContext(props, emit)\n    provideSidebar(context)\n\n    // Provide mode and classes for child components\n    provide('vsm-mode', () => props.mode)\n    provide('vsm-classes', () => props.classes)\n    provide('vsm-link-component', () => props.linkComponentName)\n\n    // =========================================================================\n    // COMPUTED\n    // =========================================================================\n\n    const isCollapsed = computed(() => context.isCollapsed)\n\n    const visibleItems = computed(() => {\n      return props.items\n        .map((item, index) => ({\n          ...item,\n          id: item.id || `item-${index}`\n        }))\n        .filter(item => {\n          if (typeof item.visible === 'function') {\n            return item.visible({ item })\n          }\n          return item.visible !== false\n        })\n    })\n\n    const showMobileDrawer = computed(() => {\n      // Only show mobile drawer on mobile viewports\n      if (typeof window === 'undefined') return false\n      return window.innerWidth < props.mobileBreakpoint\n    })\n\n    // =========================================================================\n    // CLASSES\n    // =========================================================================\n\n    const sidebarClasses = computed(() => {\n      const base = resolveClass('root', props.classes, {})\n      const expanded = !isCollapsed.value\n        ? resolveClass('rootExpanded', props.classes, {})\n        : ''\n      const collapsed = isCollapsed.value\n        ? resolveClass('rootCollapsed', props.classes, {})\n        : ''\n\n      return [\n        'vsm-sidebar',\n        base || defaultClasses.root,\n        expanded,\n        collapsed,\n        {\n          'vsm-collapsed': isCollapsed.value,\n          'vsm-expanded': !isCollapsed.value,\n          'vsm-rtl': props.rtl,\n          'vsm-relative': props.relative\n        }\n      ]\n    })\n\n    const sidebarStyles = computed(() => {\n      return {\n        width: isCollapsed.value ? props.collapsedWidth : props.width,\n        '--sidebar-width': props.width,\n        '--sidebar-collapsed-width': props.collapsedWidth\n      }\n    })\n\n    const wrapperClasses = computed(() => {\n      return [\n        'vsm-wrapper',\n        resolveClass('wrapper', props.classes, {}) || 'flex flex-col h-full'\n      ]\n    })\n\n    const navClasses = computed(() => {\n      return [\n        'vsm-nav',\n        resolveClass('nav', props.classes, {}) || 'flex-1 overflow-y-auto overflow-x-hidden'\n      ]\n    })\n\n    const menuClasses = computed(() => {\n      return [\n        'vsm-menu',\n        resolveClass('menu', props.classes, {}) || 'flex flex-col py-2'\n      ]\n    })\n\n    const headerClasses = computed(() => {\n      return [\n        'vsm-header-slot',\n        resolveClass('header', props.classes, {}) || 'flex-shrink-0'\n      ]\n    })\n\n    const brandClasses = computed(() => {\n      return ['vsm-brand-slot', 'flex-shrink-0']\n    })\n\n    const userClasses = computed(() => {\n      return ['vsm-user-slot', 'flex-shrink-0']\n    })\n\n    const footerClasses = computed(() => {\n      return [\n        'vsm-footer-slot',\n        resolveClass('footer', props.classes, {}) || 'flex-shrink-0 border-t border-gray-700'\n      ]\n    })\n\n    const toggleClasses = computed(() => {\n      return [\n        'vsm-toggle',\n        resolveClass('toggle', props.classes, {}) || defaultClasses.toggle\n      ]\n    })\n\n    // =========================================================================\n    // HANDLERS\n    // =========================================================================\n\n    function handleToggle() {\n      context.toggle()\n    }\n\n    function handleItemClick(payload) {\n      emit('item-click', payload)\n    }\n\n    function handleMobileItemClick(payload) {\n      emit('item-click', payload)\n      // Close mobile drawer after navigation (if item has href/to)\n      if (payload.item.href || payload.item.to) {\n        setTimeout(() => {\n          context.closeMobile()\n        }, 150)\n      }\n    }\n\n    function handleMobileUpdate(value) {\n      emit('update:mobileOpen', value)\n    }\n\n    function handleMobileClose() {\n      emit('update:mobileOpen', false)\n    }\n\n    function handleMouseEnter() {\n      if (props.expandOnHover && isCollapsed.value) {\n        context.setHoverExpanded(true)\n      }\n    }\n\n    function handleMouseLeave() {\n      if (props.expandOnHover) {\n        context.setHoverExpanded(false)\n      }\n    }\n\n    // =========================================================================\n    // EXPOSE\n    // =========================================================================\n\n    // Expose methods for external control\n    const exposed = {\n      toggle: context.toggle,\n      collapse: context.collapse,\n      expand: context.expand,\n      toggleMobile: context.toggleMobile,\n      openMobile: context.openMobile,\n      closeMobile: context.closeMobile,\n      updateCurrentPath: context.updateCurrentPath\n    }\n\n    return {\n      sidebarRef,\n      isCollapsed,\n      visibleItems,\n      showMobileDrawer,\n\n      // Classes\n      sidebarClasses,\n      sidebarStyles,\n      wrapperClasses,\n      navClasses,\n      menuClasses,\n      headerClasses,\n      brandClasses,\n      userClasses,\n      footerClasses,\n      toggleClasses,\n\n      // Handlers\n      handleToggle,\n      handleItemClick,\n      handleMobileItemClick,\n      handleMobileUpdate,\n      handleMobileClose,\n      handleMouseEnter,\n      handleMouseLeave,\n\n      // Exposed\n      ...exposed\n    }\n  }\n})\n</script>\n","<template>\n  <slot />\n</template>\n\n<script>\nimport { defineComponent, provide, computed } from 'vue'\nimport { createSidebarContext, provideSidebar } from '../composables/useSidebar.js'\n\n/**\n * SidebarProvider - Provides sidebar context to child components.\n *\n * Use this component to wrap your layout and provide sidebar state\n * that can be accessed via useSidebar() composable.\n *\n * @example\n * <SidebarProvider v-model:collapsed=\"collapsed\" v-model:mobile-open=\"mobileOpen\">\n *   <YourLayout>\n *     <SidebarTrigger />\n *     <SidebarMenu :items=\"items\" />\n *   </YourLayout>\n * </SidebarProvider>\n */\nexport default defineComponent({\n  name: 'SidebarProvider',\n\n  props: {\n    /**\n     * Collapsed state (v-model:collapsed)\n     */\n    collapsed: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Mobile drawer open state (v-model:mobileOpen)\n     */\n    mobileOpen: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * localStorage key for persistence\n     */\n    storageKey: {\n      type: String,\n      default: undefined\n    },\n\n    /**\n     * Navigation mode\n     */\n    mode: {\n      type: String,\n      default: 'a'\n    },\n\n    /**\n     * Expanded width\n     */\n    width: {\n      type: String,\n      default: '256px'\n    },\n\n    /**\n     * Collapsed width\n     */\n    collapsedWidth: {\n      type: String,\n      default: '64px'\n    },\n\n    /**\n     * RTL mode\n     */\n    rtl: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Disable hover expansion\n     */\n    disableHover: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Expand on hover\n     */\n    expandOnHover: {\n      type: Boolean,\n      default: false\n    },\n\n    /**\n     * Accordion behavior\n     */\n    showOneChild: {\n      type: [Boolean, String],\n      default: false\n    },\n\n    /**\n     * Class overrides\n     */\n    classes: {\n      type: Object,\n      default: () => ({})\n    },\n\n    /**\n     * Custom link component\n     */\n    linkComponentName: {\n      type: String,\n      default: undefined\n    },\n\n    /**\n     * Initially expanded groups\n     */\n    defaultExpandedGroups: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  emits: ['update:collapsed', 'update:mobileOpen'],\n\n  setup(props, { emit }) {\n    // Create sidebar context\n    const context = createSidebarContext(props, emit)\n\n    // Provide context to all descendants\n    provideSidebar(context)\n\n    // Also provide individual values for convenience\n    provide('vsm-mode', () => props.mode)\n    provide('vsm-classes', () => props.classes)\n    provide('vsm-link-component', () => props.linkComponentName)\n\n    return {}\n  }\n})\n</script>\n","<template>\n  <component\n    :is=\"as\"\n    :class=\"triggerClasses\"\n    :aria-label=\"ariaLabel\"\n    :aria-expanded=\"!isCollapsed\"\n    @click=\"handleClick\"\n  >\n    <slot :collapsed=\"isCollapsed\" :mobile-open=\"mobileOpen\">\n      <!-- Default hamburger icon -->\n      <svg\n        class=\"w-6 h-6\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n        aria-hidden=\"true\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M4 6h16M4 12h16M4 18h16\"\n        />\n      </svg>\n    </slot>\n  </component>\n</template>\n\n<script>\nimport { defineComponent, computed } from 'vue'\nimport { useSidebar } from '../composables/useSidebar.js'\n\n/**\n * SidebarTrigger - A button to toggle sidebar state.\n *\n * Must be used within a SidebarProvider or SidebarMenu context.\n *\n * @example\n * <SidebarTrigger class=\"md:hidden\" />\n */\nexport default defineComponent({\n  name: 'SidebarTrigger',\n\n  props: {\n    /**\n     * HTML element or component to render\n     */\n    as: {\n      type: [String, Object],\n      default: 'button'\n    },\n\n    /**\n     * What to toggle: 'sidebar' | 'mobile' | 'both'\n     */\n    toggles: {\n      type: String,\n      default: 'both',\n      validator: (v) => ['sidebar', 'mobile', 'both'].includes(v)\n    },\n\n    /**\n     * Additional classes\n     */\n    triggerClass: {\n      type: String,\n      default: ''\n    }\n  },\n\n  setup(props) {\n    const sidebar = useSidebar()\n\n    const isCollapsed = computed(() => sidebar.collapsed)\n    const mobileOpen = computed(() => sidebar.mobileOpen)\n\n    const triggerClasses = computed(() => {\n      return [\n        'vsm-trigger',\n        'inline-flex items-center justify-center',\n        props.triggerClass\n      ].filter(Boolean)\n    })\n\n    const ariaLabel = computed(() => {\n      if (props.toggles === 'mobile') {\n        return mobileOpen.value ? 'Close menu' : 'Open menu'\n      }\n      return isCollapsed.value ? 'Expand sidebar' : 'Collapse sidebar'\n    })\n\n    function handleClick() {\n      switch (props.toggles) {\n        case 'sidebar':\n          sidebar.toggle()\n          break\n        case 'mobile':\n          sidebar.toggleMobile()\n          break\n        case 'both':\n        default:\n          // On mobile, toggle mobile drawer; on desktop, toggle collapse\n          if (typeof window !== 'undefined' && window.innerWidth < 768) {\n            sidebar.toggleMobile()\n          } else {\n            sidebar.toggle()\n          }\n          break\n      }\n    }\n\n    return {\n      isCollapsed,\n      mobileOpen,\n      triggerClasses,\n      ariaLabel,\n      handleClick\n    }\n  }\n})\n</script>\n","/**\n * @fileoverview Multi-Mode Navigation Composable\n * \n * This module implements the Link Adapter Pattern, providing a unified\n * interface for navigation that works across three different routing systems:\n * \n * 1. **Plain Anchors (`mode='a'`)**: Standard HTML `<a>` tags\n * 2. **Vue Router (`mode='router'`)**: Uses `<RouterLink>` component\n * 3. **Inertia.js (`mode='inertia'`)**: Uses Inertia's `<Link>` component\n * \n * The key design goal is **optional dependency handling**. Neither vue-router\n * nor @inertiajs/vue3 are required dependencies - they are detected at runtime\n * and gracefully fall back to anchor mode if unavailable.\n * \n * @module composables/useNavigation\n * @author Hassan Ali\n * @license MIT\n * \n * @example\n * // Basic usage\n * import { useNavigation, hasVueRouter, hasInertia } from 'vue-sidebar-kit'\n * \n * // Check available adapters\n * if (hasVueRouter()) {\n *   console.log('Vue Router is available')\n * }\n * \n * const { getLinkComponent, resolveLinkProps } = useNavigation('router')\n */\n\nimport { computed, h, resolveComponent } from 'vue'\n\n// =============================================================================\n// OPTIONAL DEPENDENCY DETECTION\n// =============================================================================\n\n/**\n * Cached reference to Vue Router's RouterLink component.\n * Set to null if vue-router is not installed.\n * @type {Object|null}\n * @private\n */\nlet routerLink = null\n\n/**\n * Cached reference to Inertia's Link component.\n * Set to null if @inertiajs/vue3 is not installed.\n * @type {Object|null}\n * @private\n */\nlet inertiaLink = null\n\n/**\n * Attempts to import and cache Vue Router's RouterLink component.\n * This is done lazily to avoid import errors when vue-router isn't installed.\n * \n * @function tryLoadVueRouter\n * @private\n * @returns {Object|null} The RouterLink component or null\n */\nfunction tryLoadVueRouter() {\n  if (routerLink !== null) return routerLink\n  \n  try {\n    // Dynamic require - will fail gracefully if not installed\n    const vueRouter = require('vue-router')\n    routerLink = vueRouter.RouterLink\n    return routerLink\n  } catch {\n    routerLink = false // Mark as attempted but failed\n    return null\n  }\n}\n\n/**\n * Attempts to import and cache Inertia's Link component.\n * This is done lazily to avoid import errors when @inertiajs/vue3 isn't installed.\n * \n * @function tryLoadInertia\n * @private\n * @returns {Object|null} The Inertia Link component or null\n */\nfunction tryLoadInertia() {\n  if (inertiaLink !== null) return inertiaLink\n  \n  try {\n    // Dynamic require - will fail gracefully if not installed\n    const inertia = require('@inertiajs/vue3')\n    inertiaLink = inertia.Link\n    return inertiaLink\n  } catch {\n    inertiaLink = false // Mark as attempted but failed\n    return null\n  }\n}\n\n// =============================================================================\n// PUBLIC DEPENDENCY CHECKERS\n// =============================================================================\n\n/**\n * Checks if Vue Router is installed and available.\n * This can be used to conditionally show router-dependent features.\n * \n * @function hasVueRouter\n * @returns {boolean} True if vue-router is installed and usable\n * \n * @example\n * import { hasVueRouter } from 'vue-sidebar-kit'\n * \n * if (hasVueRouter()) {\n *   // Show Vue Router specific options\n *   console.log('Router mode available')\n * }\n */\nexport function hasVueRouter() {\n  const component = tryLoadVueRouter()\n  return component !== null && component !== false\n}\n\n/**\n * Checks if Inertia.js is installed and available.\n * This can be used to conditionally enable Inertia navigation.\n * \n * @function hasInertia\n * @returns {boolean} True if @inertiajs/vue3 is installed and usable\n * \n * @example\n * import { hasInertia } from 'vue-sidebar-kit'\n * \n * const defaultMode = hasInertia() ? 'inertia' : 'a'\n */\nexport function hasInertia() {\n  const component = tryLoadInertia()\n  return component !== null && component !== false\n}\n\n// =============================================================================\n// LINK COMPONENT RESOLUTION\n// =============================================================================\n\n/**\n * Returns the appropriate link component based on navigation mode.\n * Falls back to 'a' tag if requested library isn't available.\n * \n * Resolution order:\n * 1. If custom linkComponentName provided, resolve that component\n * 2. For 'router' mode, try RouterLink, fall back to 'a'\n * 3. For 'inertia' mode, try Inertia Link, fall back to 'a'\n * 4. For 'a' mode, return 'a' string (native element)\n * \n * @function getLinkComponent\n * @param {string} mode - Navigation mode: 'a', 'router', or 'inertia'\n * @param {string} [customComponentName] - Optional custom component name to resolve\n * @returns {string|Object} Component to use (string for native, object for Vue component)\n * \n * @example\n * // Get router link component\n * const LinkComponent = getLinkComponent('router')\n * // Returns RouterLink if available, otherwise 'a'\n * \n * @example\n * // Custom component override\n * const LinkComponent = getLinkComponent('router', 'CustomLink')\n * // Returns resolved CustomLink component\n */\nexport function getLinkComponent(mode, customComponentName = null) {\n  // Custom component takes priority\n  if (customComponentName) {\n    try {\n      return resolveComponent(customComponentName)\n    } catch {\n      console.warn(\n        `[vue-sidebar-kit] Could not resolve custom link component \"${customComponentName}\". ` +\n        'Falling back to default.'\n      )\n    }\n  }\n\n  switch (mode) {\n    case 'router': {\n      const RouterLink = tryLoadVueRouter()\n      if (RouterLink) return RouterLink\n      console.warn(\n        '[vue-sidebar-kit] Vue Router not found. Falling back to anchor mode. ' +\n        'Install vue-router to use router mode.'\n      )\n      return 'a'\n    }\n\n    case 'inertia': {\n      const Link = tryLoadInertia()\n      if (Link) return Link\n      console.warn(\n        '[vue-sidebar-kit] Inertia.js not found. Falling back to anchor mode. ' +\n        'Install @inertiajs/vue3 to use inertia mode.'\n      )\n      return 'a'\n    }\n\n    case 'a':\n    default:\n      return 'a'\n  }\n}\n\n// =============================================================================\n// LINK PROPS RESOLUTION\n// =============================================================================\n\n/**\n * @typedef {Object} ResolvedLinkProps\n * @property {string} [href] - URL for anchor/inertia modes\n * @property {string|Object} [to] - Route for router mode\n * @property {string} [target] - Link target ('_blank' for external)\n * @property {string} [rel] - Relationship attribute (for external links)\n * @property {boolean} [disabled] - Whether the link is disabled\n * @property {string} [tabindex] - Tab index for disabled items\n * @property {string} [role] - ARIA role\n * @property {string} [ariaDisabled] - ARIA disabled attribute\n */\n\n/**\n * Resolves the correct props to pass to a link component based on mode.\n * \n * This function handles the differences between how different link types\n * expect to receive their destination:\n * - Native `<a>`: Uses `href` attribute\n * - RouterLink: Uses `to` prop (string or route object)\n * - Inertia Link: Uses `href` prop\n * \n * It also handles:\n * - External links (adds target=\"_blank\" and rel=\"noopener noreferrer\")\n * - Disabled state (prevents navigation, adds accessibility attributes)\n * - Per-item link attribute overrides\n * \n * @function resolveLinkProps\n * @param {MenuItem} item - The menu item\n * @param {string} mode - Navigation mode ('a', 'router', 'inertia')\n * @param {Object} [options={}] - Additional options\n * @param {boolean} [options.disabled] - Force disabled state\n * @param {Object} [options.additionalAttrs] - Extra attributes to merge\n * @returns {ResolvedLinkProps} Props object to spread onto the link component\n * \n * @example\n * // For an anchor link\n * const item = { id: '1', label: 'Home', href: '/' }\n * resolveLinkProps(item, 'a')\n * // Returns: { href: '/' }\n * \n * @example\n * // For Vue Router with route object\n * const item = { id: '1', label: 'Users', to: { name: 'users', params: { id: 1 } }}\n * resolveLinkProps(item, 'router')\n * // Returns: { to: { name: 'users', params: { id: 1 } } }\n * \n * @example\n * // For external link\n * const item = { id: '1', label: 'Docs', href: 'https://docs.example.com', external: true }\n * resolveLinkProps(item, 'a')\n * // Returns: { href: 'https://docs.example.com', target: '_blank', rel: 'noopener noreferrer' }\n * \n * @example\n * // For disabled item\n * const item = { id: '1', label: 'Coming Soon', href: '/soon', disabled: true }\n * resolveLinkProps(item, 'a')\n * // Returns: { role: 'link', tabindex: '-1', 'aria-disabled': 'true' }\n */\nexport function resolveLinkProps(item, mode, options = {}) {\n  const props = {}\n  const isDisabled = options.disabled ?? item.disabled\n\n  // =========================================================================\n  // DISABLED STATE\n  // =========================================================================\n\n  if (isDisabled) {\n    // Disabled links should not be navigable\n    // Use role=\"link\" with aria-disabled for accessibility\n    props.role = 'link'\n    props.tabindex = '-1'\n    props['aria-disabled'] = 'true'\n    return { ...props, ...(item.linkAttrs || {}), ...(options.additionalAttrs || {}) }\n  }\n\n  // =========================================================================\n  // EXTERNAL LINKS\n  // =========================================================================\n\n  if (item.external) {\n    props.href = item.href\n    props.target = '_blank'\n    props.rel = 'noopener noreferrer'\n    return { ...props, ...(item.linkAttrs || {}), ...(options.additionalAttrs || {}) }\n  }\n\n  // =========================================================================\n  // MODE-SPECIFIC PROPS\n  // =========================================================================\n\n  // Determine effective mode (per-item override or global)\n  const effectiveMode = item.linkMode || mode\n\n  switch (effectiveMode) {\n    case 'router':\n      // Vue Router uses the 'to' prop\n      // If item has 'to', use it; otherwise convert href to 'to'\n      props.to = item.to || item.href\n      break\n\n    case 'inertia':\n      // Inertia uses 'href' prop\n      props.href = item.href || item.to\n      break\n\n    case 'a':\n    default:\n      // Native anchor uses 'href' attribute\n      props.href = item.href || item.to\n      break\n  }\n\n  // =========================================================================\n  // MERGE ADDITIONAL ATTRIBUTES\n  // =========================================================================\n\n  return {\n    ...props,\n    ...(item.linkAttrs || {}),\n    ...(options.additionalAttrs || {})\n  }\n}\n\n// =============================================================================\n// NAVIGATION COMPOSABLE\n// =============================================================================\n\n/**\n * Creates a navigation composable with mode-specific utilities.\n * \n * This composable provides reactive methods for:\n * - Getting the correct link component\n * - Resolving link props\n * - Checking navigation capabilities\n * \n * @function useNavigation\n * @param {string} [defaultMode='a'] - Default navigation mode\n * @returns {Object} Navigation utilities\n * @returns {Function} returns.getLinkComponent - Get link component for mode\n * @returns {Function} returns.resolveLinkProps - Resolve props for link\n * @returns {Function} returns.hasVueRouter - Check if Vue Router available\n * @returns {Function} returns.hasInertia - Check if Inertia available\n * @returns {string} returns.mode - Current navigation mode\n * \n * @example\n * // In component setup\n * import { useNavigation } from 'vue-sidebar-kit'\n * \n * const nav = useNavigation('inertia')\n * \n * // Get link component for current mode\n * const LinkComponent = nav.getLinkComponent()\n * \n * // Resolve props for an item\n * const linkProps = nav.resolveLinkProps(menuItem)\n */\nexport function useNavigation(defaultMode = 'a') {\n  return {\n    /**\n     * Get the link component for a specific mode.\n     * @param {string} [mode] - Mode override (uses defaultMode if not set)\n     * @param {string} [customComponentName] - Custom component to resolve\n     * @returns {string|Object} Link component\n     */\n    getLinkComponent(mode = defaultMode, customComponentName = null) {\n      return getLinkComponent(mode, customComponentName)\n    },\n\n    /**\n     * Resolve link props for an item.\n     * @param {MenuItem} item - Menu item\n     * @param {string} [mode] - Mode override\n     * @param {Object} [options] - Additional options\n     * @returns {Object} Resolved props\n     */\n    resolveLinkProps(item, mode = defaultMode, options = {}) {\n      return resolveLinkProps(item, mode, options)\n    },\n\n    /**\n     * Check Vue Router availability.\n     * @returns {boolean} True if available\n     */\n    hasVueRouter,\n\n    /**\n     * Check Inertia availability.\n     * @returns {boolean} True if available\n     */\n    hasInertia,\n\n    /**\n     * Current navigation mode.\n     * @type {string}\n     */\n    mode: defaultMode\n  }\n}\n","/**\n * @fileoverview Vue Sidebar Kit - Main Entry Point\n * \n * Vue Sidebar Kit is a production-ready, highly customizable sidebar menu\n * component for Vue 3. It supports multiple navigation modes and provides\n * deep customization options.\n * \n * ## Features\n * \n * - **Multi-mode Navigation**: Inertia.js, Vue Router 4, or plain anchors\n * - **Tailwind-First**: Works with Tailwind CSS but doesn't require it\n * - **Responsive**: Desktop sidebar + mobile drawer with overlay\n * - **Accessible**: Full keyboard navigation and ARIA support\n * - **Unlimited Nesting**: Recursive menu structure with animations\n * - **State Persistence**: Optional localStorage for collapsed/expanded state\n * - **Active Detection**: Multiple matching strategies\n * - **Deep Customization**: Class overrides at every level\n * - **Flexible Icons**: Class names, Vue components, SVG strings\n * - **SSR-Safe**: Guards for window/localStorage access\n * - **Tree-shakeable**: Import only what you need\n * \n * ## Quick Start\n * \n * ```javascript\n * import { SidebarMenu } from 'vue-sidebar-kit'\n * import 'vue-sidebar-kit/style.css'\n * \n * // In your template\n * <SidebarMenu\n *   :items=\"menuItems\"\n *   mode=\"inertia\"\n *   v-model:collapsed=\"collapsed\"\n * />\n * ```\n * \n * ## Navigation Modes\n * \n * - `'a'`: Plain HTML anchors (default, no dependencies)\n * - `'router'`: Vue Router (requires vue-router)\n * - `'inertia'`: Inertia.js (requires @inertiajs/vue3)\n * \n * @module vue-sidebar-kit\n * @author Hassan Ali\n * @license MIT\n * @version 1.0.0\n * \n * @see {@link https://github.com/your-repo/vue-sidebar-kit} Repository\n * @see {@link ./README.md} Full Documentation\n */\n\n// =============================================================================\n// CSS IMPORTS\n// =============================================================================\n\n/**\n * Import the core CSS file.\n * This includes transitions, animations, and CSS custom properties.\n * End users should also import this: `import 'vue-sidebar-kit/style.css'`\n */\nimport './styles/sidebar.css'\n\n// =============================================================================\n// COMPONENT EXPORTS\n// =============================================================================\n\n/**\n * Main Components\n * \n * These are the primary components used to build the sidebar UI:\n * \n * - **SidebarMenu**: The main sidebar component\n * - **SidebarMenuItem**: Individual menu item (recursive)\n * - **SidebarMenuLink**: Smart link component\n * - **SidebarMenuIcon**: Flexible icon renderer\n * - **SidebarMenuBadge**: Badge display component\n * - **SidebarMobileDrawer**: Mobile drawer with overlay\n * - **SidebarTooltip**: Collapsed mode tooltips\n * - **SidebarProvider**: Provider pattern wrapper\n * - **SidebarTrigger**: Toggle button component\n * \n * @example\n * // Import all components\n * import {\n *   SidebarMenu,\n *   SidebarProvider,\n *   SidebarTrigger\n * } from 'vue-sidebar-kit'\n */\nexport {\n  SidebarMenu,\n  SidebarMenuItem,\n  SidebarMenuLink,\n  SidebarMenuIcon,\n  SidebarMenuBadge,\n  SidebarMobileDrawer,\n  SidebarTooltip,\n  SidebarProvider,\n  SidebarTrigger\n} from './components/index.js'\n\n// =============================================================================\n// COMPOSABLE EXPORTS\n// =============================================================================\n\n/**\n * Sidebar State Management Composable\n * \n * The core composable for managing sidebar state. Used with the provider\n * pattern for sharing state across components.\n * \n * Functions:\n * - `useSidebar()`: Get sidebar context (must be inside provider)\n * - `createSidebarContext()`: Create a new context\n * - `provideSidebar()`: Provide context to descendants\n * - `hasSidebarContext()`: Check if context is available\n * \n * @example\n * // In a child component\n * import { useSidebar } from 'vue-sidebar-kit'\n * \n * const sidebar = useSidebar()\n * sidebar.toggle() // Toggle collapsed state\n * sidebar.closeMobile() // Close mobile drawer\n */\nexport {\n  useSidebar,\n  createSidebarContext,\n  provideSidebar,\n  hasSidebarContext\n} from './composables/useSidebar.js'\n\n/**\n * Active State Detection Composable\n * \n * Utilities for determining if menu items are active based on the current route.\n * \n * Functions:\n * - `useActiveState()`: Get reactive active state utilities\n * - `isItemActive()`: Check if a single item is active\n * \n * Matching Strategies:\n * - `'exact'`: Path must match exactly\n * - `'startsWith'`: Current path starts with item's path\n * - `{ pattern: 'regex' }`: Custom regex pattern\n * - `(ctx) => boolean`: Custom function\n * \n * @example\n * import { isItemActive } from 'vue-sidebar-kit'\n * \n * const active = isItemActive(\n *   { id: 'users', href: '/users', activeMatch: 'startsWith' },\n *   '/users/123'\n * ) // true\n */\nexport {\n  useActiveState,\n  isItemActive\n} from './composables/useActiveState.js'\n\n/**\n * Navigation Mode Composable\n * \n * Implements the Link Adapter Pattern for supporting multiple routing libraries.\n * \n * Functions:\n * - `useNavigation()`: Get navigation utilities\n * - `resolveLinkProps()`: Get props for a link based on mode\n * - `hasVueRouter()`: Check if Vue Router is available\n * - `hasInertia()`: Check if Inertia.js is available\n * \n * @example\n * import { hasVueRouter, hasInertia } from 'vue-sidebar-kit'\n * \n * // Auto-detect best mode\n * const mode = hasInertia() ? 'inertia' : hasVueRouter() ? 'router' : 'a'\n */\nexport {\n  useNavigation,\n  resolveLinkProps,\n  hasVueRouter,\n  hasInertia\n} from './composables/useNavigation.js'\n\n/**\n * Menu Item Composable\n * \n * Manages state and behavior for individual menu items.\n * Used internally by SidebarMenuItem but can be used for custom implementations.\n * \n * @example\n * import { useMenuItem } from 'vue-sidebar-kit'\n * \n * const { isActive, isExpanded, handleClick, ariaAttrs } = useMenuItem(item, level)\n */\nexport {\n  useMenuItem\n} from './composables/useMenuItem.js'\n\n// =============================================================================\n// UTILITY EXPORTS\n// =============================================================================\n\n/**\n * CSS Class Utilities\n * \n * Functions and objects for working with the class cascade system.\n * \n * Objects:\n * - `defaultClasses`: Built-in Tailwind classes for all elements\n * - `defaultCssVars`: CSS custom properties for sizing\n * \n * Functions:\n * - `mergeClasses()`: Combine multiple class strings\n * - `resolveClass()`: Resolve a class through the cascade\n * - `getLinkClasses()`: Get complete link classes based on state\n * \n * @example\n * import { defaultClasses, resolveClass, mergeClasses } from 'vue-sidebar-kit'\n * \n * // Extend default classes\n * const customLink = defaultClasses.link + ' my-custom-class'\n * \n * // Resolve through cascade\n * const linkClass = resolveClass('link', globalClasses, itemClasses)\n * \n * // Merge conditionally\n * const classes = mergeClasses('base', isActive && 'active')\n */\nexport {\n  defaultClasses,\n  defaultCssVars,\n  mergeClasses,\n  resolveClass,\n  getLinkClasses\n} from './styles/classes.js'\n\n// =============================================================================\n// VUE PLUGIN\n// =============================================================================\n\nimport { SidebarMenu } from './components/index.js'\n\n/**\n * Vue Plugin for Global Registration\n * \n * Registers the SidebarMenu component globally, making it available\n * in all templates without explicit imports.\n * \n * @constant {Object} VueSidebarKit\n * @property {Function} install - Vue plugin install function\n * \n * @example\n * // In your main.js or app entry point\n * import { createApp } from 'vue'\n * import VueSidebarKit from 'vue-sidebar-kit'\n * import 'vue-sidebar-kit/style.css'\n * \n * const app = createApp(App)\n * app.use(VueSidebarKit)\n * app.mount('#app')\n * \n * @example\n * // Then in any component template\n * <template>\n *   <SidebarMenu :items=\"items\" />\n * </template>\n */\nconst VueSidebarKit = {\n  /**\n   * Vue plugin install function.\n   * Called automatically when using app.use(VueSidebarKit)\n   * \n   * @param {Object} app - Vue application instance\n   * @returns {void}\n   */\n  install(app) {\n    app.component('SidebarMenu', SidebarMenu)\n  }\n}\n\nexport default VueSidebarKit\n"],"names":["_sfc_main","defineComponent","props","emit","sidebarMode","inject","customLinkComponent","RouterLink","InertiaLink","effectiveMode","computed","linkComponent","custom","linkProps","item","mode","result","linkClasses","handleClick","event","_openBlock","_createBlock","_resolveDynamicComponent","_ctx","_mergeProps","_renderSlot","isStringIcon","isComponentIcon","_a","_b","_c","_d","isSvgString","isSvgPath","isRenderFunction","iconComponent","markRaw","iconComponentProps","sanitizedSvg","svgPath","renderComponent","h","iconClasses","iconAttrs","svgClasses","_createElementBlock","_createElementVNode","_hoisted_2","badgeText","badgeClasses","base","badgeAttrs","_createTextVNode","_toDisplayString","tooltipCounter","tooltipId","tooltipClasses","_Transition","SIDEBAR_INJECTION_KEY","isBrowser","getCurrentPath","createSidebarContext","collapsed","ref","mobileOpen","expandedGroups","currentPath","hoverExpanded","isCollapsed","effectiveWidth","loadPersistedState","saved","data","e","savePersistedState","toggle","collapse","expand","toggleMobile","updateBodyScroll","openMobile","closeMobile","toggleGroup","id","isGroupExpanded","setHoverExpanded","value","updateCurrentPath","handlePopState","handleKeydown","onMounted","onUnmounted","watch","val","reactive","provideSidebar","context","provide","useSidebar","hasSidebarContext","normalizePath","path","getItemPath","isItemActive","options","itemPath","normalizedItemPath","normalizedCurrentPath","strategy","isParentOfActive","child","useActiveState","ctx","isActive","isParentActive","defaultClasses","defaultCssVars","resolveClass","key","globalClasses","itemClasses","mergeClasses","classes","allClasses","cls","getLinkClasses","isGroupActive","isOpen","isDisabled","isHovered","isFocused","level","useMenuItem","hasChildren","isExpanded","isVisible","isExternal","isHiddenOnCollapse","itemClass","linkClass","iconClass","labelClass","badgeClass","dropdownClass","openClass","ariaAttrs","attrs","itemIdCounter","SidebarMenuLink","SidebarMenuIcon","SidebarMenuBadge","SidebarTooltip","sidebar","itemId","groupId","showTooltip","baseItemClasses","baseLinkClasses","baseIconClasses","baseLabelClasses","baseBadgeClasses","baseDropdownClasses","baseHandleClick","handleMouseEnter","handleMouseLeave","handleFocus","handleBlur","toggleExpanded","isHeader","isComponent","activeClass","hoverClass","focusClass","disabledClass","groupActiveClass","labelClasses","dropdownClasses","headerClasses","groupClasses","visibleChildren","_withDirectives","_normalizeProps","_Fragment","_createVNode","_component_SidebarMenuLink","_component_SidebarMenuIcon","_component_SidebarMenuBadge","_component_SidebarTooltip","_renderList","_component_SidebarMenuItem","_withCtx","slotProps","drawerRef","overlayClasses","drawerClasses","drawerStyles","closeButtonClasses","drawerContentClasses","close","handleOverlayClick","handleEscape","lockScroll","unlockScroll","handleTabKey","focusableElements","firstElement","lastElement","_Teleport","args","SidebarMenuItem","SidebarMobileDrawer","v","sidebarRef","visibleItems","index","showMobileDrawer","sidebarClasses","expanded","sidebarStyles","wrapperClasses","navClasses","menuClasses","brandClasses","userClasses","footerClasses","toggleClasses","handleToggle","handleItemClick","payload","handleMobileItemClick","handleMobileUpdate","handleMobileClose","exposed","_normalizeClass","_component_SidebarMobileDrawer","triggerClasses","ariaLabel","routerLink","inertiaLink","tryLoadVueRouter","tryLoadInertia","hasVueRouter","component","hasInertia","getLinkComponent","customComponentName","resolveComponent","Link","resolveLinkProps","useNavigation","defaultMode","VueSidebarKit","app","SidebarMenu"],"mappings":"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"}